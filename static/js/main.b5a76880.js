/*! For license information please see main.b5a76880.js.LICENSE.txt */
(()=>{"use strict";var e={730(e,t,n){var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,U=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var M=!1;function z(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case j:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function je(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),Se(e.stateNode,e.type,t))}}function Ee(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ne(){if(_e){var e=_e,t=ke;if(ke=_e=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==_e||null!==ke)&&(Ce(),Ne())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Ae(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Ue=null,Fe=!1,Me=null,ze={onError:function(e){Le=!0,Ue=e}};function Be(e,t,n,r,a,s,i,o,l){Le=!1,Ue=null,Ae.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qe(a),e;if(i===r)return qe(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,kt,jt,Et=!1,Nt=[],Tt=null,Ct=null,Rt=null,Ot=new Map,Pt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ut(e){var t=ya(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void jt(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){Ft(e)&&n.delete(t)}function zt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Rt&&Ft(Rt)&&(Rt=null),Ot.forEach(Mt),Pt.forEach(Mt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Ct&&Bt(Ct,e),null!==Rt&&Bt(Rt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ut(n),null===n.blockedOn&&It.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var a=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=a,Ht.transition=s}}function Kt(e,t,n,r){var a=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=a,Ht.transition=s}}function Gt(e,t,n,r){if(qt){var a=$t(e,t,n,r);if(null===a)qr(e,t,r,Jt,n),At(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,a),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,a),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&xt(s),null===(s=$t(e,t,n,r))&&qr(e,t,r,Jt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Jt=null;function $t(e,t,n,r){if(Jt=null,null!==(e=ya(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=U({},cn,{view:0,detail:0}),hn=an(dn),fn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(U({},fn,{dataTransfer:0})),gn=an(U({},dn,{relatedTarget:0})),vn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(U({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function jn(){return kn}var En=U({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(En),Tn=an(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Rn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var Ln=u&&"TextEvent"in window&&!An,Un=u&&(!Dn||An&&8<An&&11>=An),Fn=String.fromCharCode(32),Mn=!1;function zn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Jn(e){Fr(e,0)}function $n(e){if(G(wa(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Vn(t,Gn,e,xe(e)),Oe(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sr(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},kr={};function jr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=jr("animationend"),Nr=jr("animationiteration"),Tr=jr("animationstart"),Cr=jr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Or.length;Ir++){var Dr=Or[Ir];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Nr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Ue;Le=!1,Ue=null,Fe||(Fe=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Ur(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Ur(a,o,c),s=l}}}if(Fe)throw e=Me,Fe=!1,Me=null,e}function Mr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Br]){e[Br]=!0,i.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var a=Vt;break;case 4:a=Kt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ya(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=s,a=xe(n),i=[];e:{var o=Rr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Er:case Nr:case Tr:l=vn;break;case Cr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Vr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wa(l),f=null==c?o:wa(c),(o=new u(m,p+"leave",l,n,a)).target=d,o.relatedTarget=f,m=null,ya(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Jr(i,o,l,u,!1),null!==c&&null!==d&&Jr(i,d,c,u,!0)}if("select"===(l=(o=r?wa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(qn(o))if(Yn)g=ir;else{g=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Vn(i,g,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wa(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Wn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Xt=Yt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Fr(i,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Pe(e,n))&&r.unshift(Vr(e,s,a)),null!=(s=Pe(e,t))&&r.push(Vr(e,s,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Pe(n,s))&&i.unshift(Vr(n,l,o)):a||null!=(l=Pe(n,s))&&i.push(Vr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[fa]||null}var Sa=[],_a=-1;function ka(e){return{current:e}}function ja(e){0>_a||(e.current=Sa[_a],Sa[_a]=null,_a--)}function Ea(e,t){_a++,Sa[_a]=e.current,e.current=t}var Na={},Ta=ka(Na),Ca=ka(!1),Ra=Na;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){ja(Ca),ja(Ta)}function Da(e,t,n){if(Ta.current!==Na)throw Error(s(168));Ea(Ta,t),Ea(Ca,n)}function Aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return U({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Ra=Ta.current,Ea(Ta,e),Ea(Ca,Ca.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Aa(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,ja(Ca),ja(Ta),Ea(Ta,e)):ja(Ca),Ea(Ca,n)}var Fa=null,Ma=!1,za=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function Wa(){if(!za&&null!==Fa){za=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ma=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ge(Ze,Wa),a}finally{bt=t,za=!1}}return null}var Ha=[],qa=0,Va=null,Ka=0,Ga=[],Ja=0,$a=null,Qa=1,Ya="";function Xa(e,t){Ha[qa++]=Ka,Ha[qa++]=Va,Va=e,Ka=t}function Za(e,t,n){Ga[Ja++]=Qa,Ga[Ja++]=Ya,Ga[Ja++]=$a,$a=e;var r=Qa;e=Ya;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Ya=s+e}else Qa=1<<s|n<<a|r,Ya=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Va;)Va=Ha[--qa],Ha[qa]=null,Ka=Ha[--qa],Ha[qa]=null;for(;e===$a;)$a=Ga[--Ja],Ga[Ja]=null,Ya=Ga[--Ja],Ga[Ja]=null,Qa=Ga[--Ja],Ga[Ja]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Qa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case S:return n.key===a?u(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||A(n))return null!==a?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);vs(t,r)}return null}function m(a,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),s=i(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(a,d),as&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,m),c}function g(a,o,l,c){var u=A(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),as&&Xa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return as&&Xa(a,g),u}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),as&&Xa(a,g),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===_&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===_){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=gs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===_?((s=Dc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Ic(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case S:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(i,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return m(r,s,i,l);if(A(i))return g(r,s,i,l);vs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Lc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),Ss=ka(null),_s=null,ks=null,js=null;function Es(){js=ks=_s=null}function Ns(e){var t=Ss.current;ja(Ss),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){_s=e,js=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(js!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===_s)throw Error(s(308));ks=e,_s.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Os=null;function Ps(e){null===Os?Os=[e]:Os.push(e)}function Is(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ps(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ds(e,n)}return null===(a=r.interleaved)?(t.next=t,Ps(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ds(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var a=e.updateQueue;As=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=U({},d,h);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Al|=i,e.lanes=i,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var qs={},Vs=ka(qs),Ks=ka(qs),Gs=ka(qs);function Js(e){if(e===qs)throw Error(s(174));return e}function $s(e,t){switch(Ea(Gs,t),Ea(Ks,e),Ea(Vs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ja(Vs),Ea(Vs,t)}function Qs(){ja(Vs),ja(Ks),ja(Gs)}function Ys(e){Js(Gs.current);var t=Js(Vs.current),n=le(t,e.type);t!==n&&(Ea(Ks,e),Ea(Vs,n))}function Xs(e){Ks.current===e&&(ja(Vs),ja(Ks))}var Zs=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=w.ReactCurrentDispatcher,ai=w.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(ui)}if(ri.current=Yi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=yi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Al|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Al|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xi(e){var t=yi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Si(){}function _i(e,t){var n=ii,r=yi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,bo=!0),r=r.queue,Ai(Ei.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ri(9,ji.bind(null,n,r,a,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&si)||ki(n,t,a)}return a}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ji(e,t,n,r){t.value=n,t.getSnapshot=r,Ni(t)&&Ti(e)}function Ei(e,t,n){return n(function(){Ni(t)&&Ti(e)})}function Ni(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ti(e){var t=Ds(e,1);null!==t&&tc(t,e,1,-1)}function Ci(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[t.memoizedState,e]}function Ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oi(){return yi().memoizedState}function Pi(e,t,n,r){var a=vi();ii.flags|=e,a.memoizedState=Ri(1|t,n,void 0,void 0===r?null:r)}function Ii(e,t,n,r){var a=yi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&pi(r,i.deps))return void(a.memoizedState=Ri(t,n,s,r))}ii.flags|=e,a.memoizedState=Ri(1|t,n,s,r)}function Di(e,t){return Pi(8390656,8,e,t)}function Ai(e,t){return Ii(2048,8,e,t)}function Li(e,t){return Ii(4,2,e,t)}function Ui(e,t){return Ii(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ii(4,4,Fi.bind(null,t,e),n)}function zi(){}function Bi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Al|=n,e.baseState=!0),t)}function qi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=n,ai.transition=r}}function Vi(){return yi().memoizedState}function Ki(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e))$i(t,n);else if(null!==(n=Is(e,t,n,r))){tc(n,e,r,Zl()),Qi(n,t,r)}}function Gi(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))$i(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ps(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Is(e,t,a,r))&&(tc(n,e,r,a=Zl()),Qi(n,t,r))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function $i(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yi={readContext:Rs,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Rs,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Di,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pi(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ci,useDebugValue:zi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ci(!1),t=e[0];return e=qi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=vi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&si)||ki(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Di(Ei.bind(null,r,i,e),[e]),r.flags|=2048,Ri(9,ji.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Tl.identifierPrefix;if(as){var n=Ya;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Rs,useCallback:Bi,useContext:Rs,useEffect:Ai,useImperativeHandle:Mi,useInsertionEffect:Li,useLayoutEffect:Ui,useMemo:Wi,useReducer:wi,useRef:Oi,useState:function(){return wi(bi)},useDebugValue:zi,useDeferredValue:function(e){return Hi(yi(),oi.memoizedState,e)},useTransition:function(){return[wi(bi)[0],yi().memoizedState]},useMutableSource:Si,useSyncExternalStore:_i,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:Rs,useCallback:Bi,useContext:Rs,useEffect:Ai,useImperativeHandle:Mi,useInsertionEffect:Li,useLayoutEffect:Ui,useMemo:Wi,useReducer:xi,useRef:Oi,useState:function(){return xi(bi)},useDebugValue:zi,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Hi(t,oi.memoizedState,e)},useTransition:function(){return[xi(bi)[0],yi().memoizedState]},useMutableSource:Si,useSyncExternalStore:_i,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),s=Fs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(tc(t,e,a,r),zs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),s=Fs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(tc(t,e,a,r),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),a=Fs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ms(e,a,r))&&(tc(t,e,r,n),zs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=Na,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(a=Pa(t)?Ra:Ta.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Na),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Rs(s):(s=Pa(t)?Ra:Ta.current,a.context=Oa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Ws(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Ms(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var s=t.ref;return Cs(t,a),r=mi(e,t,n,r,s,a),n=gi(),null===e||bo?(as&&n&&es(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function So(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return Eo(e,t,n,r,a)}function ko(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Pl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Pl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ea(Pl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ea(Pl,Ol),Ol|=r;return wo(e,t,a,n),t.child}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,a){var s=Pa(n)?Ra:Ta.current;return s=Oa(t,s),Cs(t,a),n=mi(e,t,n,r,s,a),r=gi(),null===e||bo?(as&&r&&es(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function No(e,t,n,r,a){if(Pa(n)){var s=!0;La(t)}else s=!1;if(Cs(t,a),null===t.stateNode)Wo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Oa(t,c=Pa(n)?Ra:Ta.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),As=!1;var h=t.memoizedState;i.state=h,Ws(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Ca.current||As?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=As||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Us(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Oa(t,l=Pa(n)?Ra:Ta.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),As=!1,h=t.memoizedState,i.state=h,Ws(t,r,i,a);var p=t.memoizedState;o!==d||h!==p||Ca.current||As?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=As||ao(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,a)}function To(e,t,n,r,a,s){jo(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ua(t,n,!1),Ho(e,t,s);r=t.stateNode,yo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),$s(e,t.containerInfo)}function Ro(e,t,n,r,a){return fs(),ps(a),t.flags|=256,wo(e,t,n,r),t.child}var Oo,Po,Io,Do={dehydrated:null,treeContext:null,retryLane:0};function Ao(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ea(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ac(l,a,0,null),e=Dc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ao(n),t.memoizedState=Do,e):Uo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ac({mode:"visible",children:r.children},a,0,null),(i=Dc(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Ao(o),t.memoizedState=Do,i);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Tl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ds(e,a),tc(r,e,a,-1))}return pc(),Fo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ga[Ja++]=Qa,Ga[Ja++]=Ya,Ga[Ja++]=$a,Qa=e.id,Ya=e.overflow,$a=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Pc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Pc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Ao(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,a}return e=(o=e.child).sibling,a=Pc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Uo(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function zo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Bo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,n,t);else if(19===e.tag)Mo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Al|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Pa(t.type)&&Ia(),Vo(t),null;case 3:return r=t.stateNode,Qs(),ja(Ca),ja(Ta),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(sc(ss),ss=null))),Vo(t),null;case 5:Xs(t);var a=Js(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Js(Vs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<Ar.length;a++)Mr(Ar[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Q(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":ae(r,i),Mr("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":K(r),Z(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Oo(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ar.length;a++)Mr(Ar[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":Q(e,r),a=$(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=U({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(i in ye(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Mr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Io(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Gs.current),Js(Vs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Vo(t),null;case 13:if(ja(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),i=!1}else null!==ss&&(sc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Il&&(Il=3):pc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Qs(),null===e&&Wr(t.stateNode.containerInfo),Vo(t),null;case 10:return Ns(t.type._context),Vo(t),null;case 19:if(ja(Zs),null===(i=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qo(i,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,qo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Bl&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Vo(t),null}else 2*Ye()-i.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Ea(Zs,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return Pa(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),ja(Ca),ja(Ta),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(ja(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ja(Zs),null;case 4:return Qs(),null;case 10:return Ns(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Js(Vs.current);var s,i=null;switch(n){case"input":a=$(e,a),r=$(e,r),i=[];break;case"select":a=U({},a,{value:void 0}),r=U({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,$o=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){_c(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Zo(t,n,s)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:$o||Xo(n,t);case 6:var r=cl,a=ul;cl=null,dl(e,t,n),ul=a,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zo(n,t,i),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!$o&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,dl(e,t,n),$o=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(i,o,a),cl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){_c(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){_c(e,e.return,g)}try{tl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(a,i),be(l,o);var u=be(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":X(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){_c(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){_c(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(zl=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||d,pl(t,e),$o=u):pl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Yo=e,d=e.child;null!==d;){for(h=Yo=d;null!==Yo;){switch(p=(f=Yo).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Xo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Xo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Yo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ll(e,il(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(s(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Yo=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Yo;){var a=Yo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Jo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Jo;var c=$o;if(Jo=i,($o=l)&&!c)for(Yo=a;null!==Yo;)l=(i=Yo).child,22===i.tag&&null!==i.memoizedState?xl(a):null!==l?(l.return=i,Yo=l):xl(a);for(;null!==s;)Yo=s,yl(s,t,n),s=s.sibling;Yo=a,Jo=o,$o=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Yo=s):bl(e)}}function bl(e){for(;null!==Yo;){var t=Yo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(s(163))}$o||512&t.flags&&rl(t)}catch(f){_c(t,t.return,f)}}if(t===e){Yo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yo=n;break}Yo=t.return}}function wl(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yo=n;break}Yo=t.return}}function xl(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){_c(t,a,l)}}var s=t.return;try{rl(t)}catch(l){_c(t,s,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){_c(t,i,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var Sl,_l=Math.ceil,kl=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Nl=0,Tl=null,Cl=null,Rl=0,Ol=0,Pl=ka(0),Il=0,Dl=null,Al=0,Ll=0,Ul=0,Fl=null,Ml=null,zl=0,Bl=1/0,Wl=null,Hl=!1,ql=null,Vl=null,Kl=!1,Gl=null,Jl=0,$l=0,Ql=null,Yl=-1,Xl=0;function Zl(){return 0!==(6&Nl)?Ye():-1!==Yl?Yl:Yl=Ye()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function tc(e,t,n,r){if(50<$l)throw $l=0,Ql=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Tl||(e===Tl&&(0===(2&Nl)&&(Ll|=n),4===Il&&ic(e,Rl)),nc(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=Ye()+500,Ma&&Wa()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Tl?Rl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ma=!0,Ba(e)}(oc.bind(null,e)):Ba(oc.bind(null,e)),ia(function(){0===(6&Nl)&&Wa()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Yl=-1,Xl=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var a=Nl;Nl|=2;var i=fc();for(Tl===e&&Rl===t||(Wl=null,Bl=Ye()+500,dc(e,t));;)try{vc();break}catch(l){hc(e,l)}Es(),kl.current=i,Nl=a,null!==Cl?t=0:(Tl=null,Rl=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t)throw n=Dl,dc(e,0),ic(e,r),nc(e,Ye()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Dl,dc(e,0),ic(e,r),nc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ml,Wl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ml,Wl),t);break}wc(e,Ml,Wl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ml,Wl),r);break}wc(e,Ml,Wl);break;default:throw Error(s(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ml,Ml=n,null!==t&&sc(t)),e}function sc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function ic(e,t){for(t&=~Ul,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Nl))throw Error(s(327));xc();var t=ht(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Dl,dc(e,0),ic(e,t),nc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ml,Wl),nc(e,Ye()),null}function lc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=Ye()+500,Ma&&Wa())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&Nl)&&xc();var t=Nl;Nl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Nl=t))&&Wa()}}function uc(){Ol=Pl.current,ja(Pl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:Qs(),ja(Ca),ja(Ta),ni();break;case 5:Xs(r);break;case 4:Qs();break;case 13:case 19:ja(Zs);break;case 10:Ns(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Cl=e=Pc(e.current,null),Rl=Ol=t,Il=0,Dl=null,Ul=Ll=Al=0,Ml=Fl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Os=null}return e}function hc(e,t){for(;;){var n=Cl;try{if(Es(),ri.current=Yi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,ui=!1,di=0,jl.current=null,null===n||null===n.return){Il=1,Dl=t,Cl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(i,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==Il&&(Il=2),null===Fl?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Bs(i,fo(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Bs(i,po(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(w){t=w,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function fc(){var e=kl.current;return kl.current=Yi,null===e?Yi:e}function pc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||0===(268435455&Al)&&0===(268435455&Ll)||ic(Tl,Rl)}function mc(e,t){var n=Nl;Nl|=2;var r=fc();for(Tl===e&&Rl===t||(Wl=null,dc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Es(),Nl=n,kl.current=r,null!==Cl)throw Error(s(261));return Tl=null,Rl=0,Il}function gc(){for(;null!==Cl;)yc(Cl)}function vc(){for(;null!==Cl&&!$e();)yc(Cl)}function yc(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bc(e):Cl=t,jl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Ol)))return void(Cl=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Il=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Il&&(Il=5)}function wc(e,t,n){var r=bt,a=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Gl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Tl&&(Cl=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,function(){return xc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=El.transition,El.transition=null;var o=bt;bt=1;var l=Nl;Nl|=4,jl.current=null,function(e,t){if(ea=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}m=el,el=!1}(e,n),ml(n,e),pr(ta),qt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Qe(),Nl=l,bt=o,El.transition=i}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Jl=a),i=e.pendingLanes,0===i&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Jl)&&0!==e.tag&&xc(),i=e.pendingLanes,0!==(1&i)?e===Ql?$l++:($l=0,Ql=e):$l=0,Wa()}(e,t,n,r)}finally{El.transition=a,bt=r}return null}function xc(){if(null!==Gl){var e=wt(Jl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&Nl))throw Error(s(331));var a=Nl;for(Nl|=4,Yo=e.current;null!==Yo;){var i=Yo,o=i.child;if(0!==(16&Yo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Yo=u;null!==Yo;){var d=Yo;switch(d.tag){case 0:case 11:case 15:tl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Yo=h;else for(;null!==Yo;){var f=(d=Yo).sibling,p=d.return;if(al(d),d===u){Yo=null;break}if(null!==f){f.return=p,Yo=f;break}Yo=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Yo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Yo=o;else e:for(;null!==Yo;){if(0!==(2048&(i=Yo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Yo=y;break e}Yo=i.return}}var b=e.current;for(Yo=b;null!==Yo;){var w=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Yo=w;else e:for(o=b;null!==Yo;){if(0!==(2048&(l=Yo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){_c(l,l.return,S)}if(l===o){Yo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Yo=x;break e}Yo=l.return}}if(Nl=a,Wa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function Sc(e,t,n){e=Ms(e,t=fo(0,t=lo(n,t),1),1),t=Zl(),null!==e&&(vt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Ms(t,e=po(t,e=lo(n,e),1),1),e=Zl(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Il||3===Il&&(130023424&Rl)===Rl&&500>Ye()-zl?dc(e,0):Ul|=n),nc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Ds(e,t))&&(vt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),jc(e,n)}function Tc(e,t){return Ge(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Cc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Dc(n.children,a,i,t);case k:o=8,a|=8;break;case j:return(e=Rc(12,n,t,2|a)).elementType=j,e.lanes=i,e;case C:return(e=Rc(13,n,t,a)).elementType=C,e.lanes=i,e;case R:return(e=Rc(19,n,t,a)).elementType=R,e.lanes=i,e;case I:return Ac(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case N:o=9;break e;case T:o=11;break e;case O:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Dc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Ac(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,a,s,i,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return Na;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Aa(e,n,t)}return t}function Bc(e,t,n,r,a,s,i,o,l){return(e=Mc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=Zl(),a=ec(n))).callback=void 0!==t&&null!==t?t:null,Ms(n,s,a),e.current.lanes=a,vt(e,a,r),nc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=Zl(),i=ec(a);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ms(a,t,i))&&(tc(e,a,i,s),zs(e,a,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),fs();break;case 5:Ys(t);break;case 1:Pa(t.type)&&La(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(Ss,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ea(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ea(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Oa(t,Ta.current);Cs(t,n),a=mi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(i=!0,La(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),a){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=So(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Co(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Us(e,t),Ws(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ro(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=Ro(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Ho(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),jo(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ea(Ss,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Ca.current){t=Ho(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Fs(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ts(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Cs(t,n),r=r(a=Rs(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),So(e,t,r,a=to(r.type,a),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Pa(r)?(e=!0,La(t)):e=!1,Cs(t,n),so(t,r,a),oo(t,r,a,n),To(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Xc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Hc(i);o.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(i);s.call(e)}}var i=Bc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=i,e[pa]=i.current,Wr(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),cc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(i)}Jc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Jc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Wc(null,e,null,null)}),t[pa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ut(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Ye()),0===(6&Nl)&&(Bl=Ye()+500,Wa()))}break;case 13:cc(function(){var t=Ds(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Vc(e,1)}},St=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Vc(e,134217728)}},_t=function(e){if(13===e.tag){var t=ec(e),n=Ds(e,t);if(null!==n)tc(n,e,t,Zl());Vc(e,t)}},kt=function(){return bt},jt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(s(90));G(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ce=cc;var Zc={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ee,Ne,lc]},eu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(tu),st=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(s(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,i,o),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(s(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,n){var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153(e,t,n){var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+T(l,0):s,x(i)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),C(i,t,a,"",function(e){return e})):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=C(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,a,u=s+T(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43(e,t,n){e.exports=n(202)},579(e,t,n){e.exports=n(153)},234(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,I(S);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),w(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,j=null,E=-1,N=5,T=-1;function C(){return!(t.unstable_now()-T<N)}function R(){if(null!==j){var e=t.unstable_now();T=e;var n=!0;try{n=j(!0,e)}finally{n?_():(k=!1,j=null)}}else k=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){v(R,0)};function I(e){j=e,k||(k=!0,_())}function D(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,D(x,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,I(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853(e,t,n){e.exports=n(234)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Glass-Defect-Detection-Prototype/";var r=n(43),a=n.t(r,2),s=n(391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var y="popstate";function b(){return E(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return _("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:k(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function j(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o="POP",l=null,c=u();function u(){return(i.state||{idx:null}).idx}function h(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return N(e)}null==c&&(c=0,i.replaceState(d(d({},i.state),{},{idx:c}),""));let p={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y,h),l=e,()=>{a.removeEventListener(y,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=_(p.location,e,t);n&&n(r,e),c=u()+1;let d=S(r,c),h=p.createHref(r);try{i.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}s&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=_(p.location,e,t);n&&n(r,e),c=u();let a=S(r,c),d=p.createHref(r);i.replaceState(a,"",d),s&&l&&l({action:o,location:p.location,delta:0})},go:e=>i.go(e)};return p}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let a=q(("string"===typeof t?j(t):t).pathname||"/",n);if(null==a)return null;let s=R(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=H(a);i=z(s[o],e,r)}return i}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=Y([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),R(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:M(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of O(e.path))s(e,t,!0,r);else s(e,t)}),t}function O(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=O(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,I=3,D=2,A=1,L=10,U=-2,F=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=U),t&&(r+=D),n.filter(e=>!F(e)).reduce((e,t)=>e+(P.test(t)?I:""===t?A:L),r)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:Y([s,u.pathname]),pathnameBase:X(Y([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Y([s,u.pathnameBase]))}return i}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=W(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function H(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var V=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function K(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function G(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function J(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e){let t=J(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=j(e):(r=d({},e),w(!r.pathname||!r.pathname.includes("?"),G("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),G("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),G("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:a="",hash:s=""}="string"===typeof e?j(e):e;return r?(r=r.replace(/\/\/+/g,"/"),t=r.startsWith("/")?K(r.substring(1),"/"):K(r,n)):t=n,{pathname:t,search:Z(a),hash:ee(s)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ee=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var te=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function re(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function se(e,t){let n=e;if("string"!==typeof n||!V.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(ae)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=q(r.pathname,t);r.origin===e.origin&&null!=s?n=s+r.search+r.hash:a=!0}catch(s){x(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:a,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ie=["POST","PUT","PATCH","DELETE"],oe=(new Set(ie),["GET",...ie]);new Set(oe),Symbol("ResetLoaderData");var le=r.createContext(null);le.displayName="DataRouter";var ce=r.createContext(null);ce.displayName="DataRouterState";var ue=r.createContext(!1);function de(){return r.useContext(ue)}var he=r.createContext({isTransitioning:!1});he.displayName="ViewTransition";var fe=r.createContext(new Map);fe.displayName="Fetchers";var pe=r.createContext(null);pe.displayName="Await";var me=r.createContext(null);me.displayName="Navigation";var ge=r.createContext(null);ge.displayName="Location";var ve=r.createContext({outlet:null,matches:[],isDataRoute:!1});ve.displayName="Route";var ye=r.createContext(null);ye.displayName="RouteError";var be="REACT_ROUTER_ERROR";function we(){return null!=r.useContext(ge)}function xe(){return w(we(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ge).location}var Se="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _e(e){r.useContext(me).static||r.useLayoutEffect(e)}function ke(){let{isDataRoute:e}=r.useContext(ve);return e?function(){let{router:e}=Ae("useNavigate"),t=Ue("useNavigate"),n=r.useRef(!1);_e(()=>{n.current=!0});let a=r.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,Se),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,d({fromRouteId:t},a)))},[e,t]);return a}():function(){w(we(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(le),{basename:t,navigator:n}=r.useContext(me),{matches:a}=r.useContext(ve),{pathname:s}=xe(),i=JSON.stringify($(a)),o=r.useRef(!1);_e(()=>{o.current=!0});let l=r.useCallback(function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,Se),!o.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Y([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,i,s,e]);return l}()}r.createContext(null);function je(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ve),{pathname:a}=xe(),s=JSON.stringify($(n));return r.useMemo(()=>Q(e,JSON.parse(s),a,"path"===t),[e,s,a,t])}function Ee(e,t,n,a,s){w(we(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(me),{matches:o}=r.useContext(ve),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";ze(u,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=xe();if(t){var g;let e="string"===typeof t?j(t):t;w("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=T(e,{pathname:y});x(f||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=Ie(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Y([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Y([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,a,s);return t&&S?r.createElement(ge.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},S):S}function Ne(){let e=Fe(),t=ne(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var Te=r.createElement(Ne,null),Ce=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(be,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new te(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ve.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Oe,{error:e},t):t}};Ce.contextType=ue;var Re=new WeakMap;function Oe(e){let{children:t,error:n}=e,{basename:a}=r.useContext(me);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(be,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Re.get(n);if(t)throw t;let s=se(e.location,a);if(ae&&!Re.get(n)){if(!s.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:e.replace}));throw Re.set(n,t),t}window.location.href=s.absoluteURL||s.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(s.absoluteURL||s.to)})}}return t}function Pe(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(le);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ve.Provider,{value:t},a)}function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}let c=n&&a?(e,t)=>{var r,s;a(e,{location:n.location,params:null!==(r=null===(s=n.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==r?r:{},unstable_pattern:re(n.matches),errorInfo:t})}:void 0;return s.reduceRight((e,a,u)=>{let d,h=!1,f=null,p=null;n&&(d=i&&a.route.id?i[a.route.id]:void 0,f=a.route.errorElement||Te,o&&(l<0&&0===u?(ze("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=a.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(Pe,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===u)?r.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function De(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ae(e){let t=r.useContext(le);return w(t,De(e)),t}function Le(e){let t=r.useContext(ce);return w(t,De(e)),t}function Ue(e){let t=function(e){let t=r.useContext(ve);return w(t,De(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Fe(){var e;let t=r.useContext(ye),n=Le("useRouteError"),a=Ue("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var Me={};function ze(e,t,n){t||Me[e]||(Me[e]=!0,x(!1,n))}var Be={};function We(e,t){e||Be[t]||(Be[t]=!0,console.warn(t))}a.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:a}=e;return Ee(t,void 0,r,a,n)});function He(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qe(e){let{basename:t="/",children:n=null,location:a,navigationType:s="POP",navigator:i,static:o=!1,unstable_useTransitions:l}=e;w(!we(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[c,i,o,l]);"string"===typeof a&&(a=j(a));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=a,g=r.useMemo(()=>{let e=q(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:s}},[c,d,h,f,p,m,s]);return x(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(me.Provider,{value:u},r.createElement(ge.Provider,{children:n,value:g}))}function Ve(e){let{children:t,location:n}=e;return Ee(Ke(t),n)}r.Component;function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Ke(e.props.children,s));w(e.type===He,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ke(e.props.children,s)),n.push(i)}),n}var Ge="get",Je="application/x-www-form-urlencoded";function $e(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Qe=null;var Ye=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xe(e){return null==e||Ye.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Je,'"')),null)}function Ze(e,t){let n,r,a,s,i;if($e(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?q(i,t):null,n=e.getAttribute("method")||Ge,a=Xe(e.getAttribute("enctype"))||Je,s=new FormData(e)}else if(function(e){return $e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return $e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?q(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Ge,a=Xe(e.getAttribute("formenctype"))||Xe(i.getAttribute("enctype"))||Je,s=new FormData(i,e),!function(){if(null===Qe)try{new FormData(document.createElement("form"),0),Qe=!1}catch(e){Qe=!0}return Qe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if($e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ge,r=null,a=Je,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function et(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function tt(e,t,n,r){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname="".concat(a.pathname,"_.").concat(r):a.pathname="".concat(a.pathname,".").concat(r):"/"===a.pathname?a.pathname="_root.".concat(r):t&&"/"===q(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(r),a}async function nt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rt(e){return null!=e&&"string"===typeof e.page}function at(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function st(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function it(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function ot(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!rt(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function lt(e,t){return"lazy"===e.mode&&!0===t}function ct(){let e=r.useContext(le);return et(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ut(){let e=r.useContext(ce);return et(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dt=r.createContext(void 0);function ht(){let e=r.useContext(dt);return et(e,"You must render this element inside a <HydratedRouter> element"),e}function ft(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function pt(e,t,n){if(n&&!yt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}dt.displayName="FrameworkContext";function mt(e){let{page:t}=e,n=i(e,f),{router:a}=ct(),s=r.useMemo(()=>T(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?r.createElement(vt,d({page:t,matches:s},n)):null}function gt(e){let{manifest:t,routeModules:n}=ht(),[a,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return ot((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await nt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(at).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),a}function vt(e){let{page:t,matches:n}=e,a=i(e,p),s=xe(),{future:o,manifest:l,routeModules:c}=ht(),{basename:u}=ct(),{loaderData:h,matches:f}=ut(),m=r.useMemo(()=>st(t,n,f,l,s,"data"),[t,n,f,l,s]),g=r.useMemo(()=>st(t,n,f,l,s,"assets"),[t,n,f,l,s]),v=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let a=l.routes[t.route.id];a&&a.hasLoader&&(!m.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=c[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let a=tt(t,u,o.unstable_trailingSlashAwareDataRequests,"data");return r&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,o.unstable_trailingSlashAwareDataRequests,h,s,l,m,n,t,c]),y=r.useMemo(()=>it(g,l),[g,l]),b=gt(g);return r.createElement(r.Fragment,null,v.map(e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},a))),y.map(e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},a))),b.map(e=>{var t;let{key:n,link:s}=e;return r.createElement("link",d(d({key:n,nonce:a.nonce},s),{},{crossOrigin:null!==(t=s.crossOrigin)&&void 0!==t?t:a.crossOrigin}))}))}var yt=!1;function bt(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:s,routeDiscovery:o,ssr:l}=ht(),{router:c,static:u,staticContext:f}=ct(),{matches:p}=ut(),m=de(),g=lt(o,l);s&&(s.didRenderScripts=!0);let v=pt(p,null,a);r.useEffect(()=>{yt=!0},[]);let y=r.useMemo(()=>{var a;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];et(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,h),a=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return d(d({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=yt||m?[]:(w=t.entry.imports.concat(it(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return We(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),yt||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",d(d({},e),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}})):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function wt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function xt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ne(t))return r.createElement(St,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(St,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function St(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=ht();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?r.createElement(bt,null):null)))}var _t="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{_t&&(window.__reactRouterVersion="7.13.0")}catch(fi){}function kt(e){let{basename:t,children:n,unstable_useTransitions:a,window:s}=e,i=r.useRef();null==i.current&&(i.current=b({window:s,v5Compat:!0}));let o=i.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback(e=>{!1===a?c(e):r.startTransition(()=>c(e))},[a]);return r.useLayoutEffect(()=>o.listen(u),[o,u]),r.createElement(qe,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:a})}var jt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=r.forwardRef(function(e,t){let{onClick:n,discover:a="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:u,target:h,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=i(e,m),{basename:b,unstable_useTransitions:x}=r.useContext(me),S="string"===typeof f&&jt.test(f),_=se(f,b);f=_.to;let j=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(we(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(me),{hash:s,pathname:i,search:o}=je(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:Y([n,i])),a.createHref({pathname:l,search:o,hash:s})}(f,{relative:o}),[E,N,T]=function(e,t){let n=r.useContext(dt),[a,s]=r.useState(!1),[i,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:ft(l,p),onBlur:ft(c,m),onMouseEnter:ft(u,p),onMouseLeave:ft(d,m),onTouchStart:ft(h,p)}]:[!1,f,{}]}(s,y),C=function(e){let{target:t,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=ke(),d=xe(),h=je(e,{relative:i});return r.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,t)){f.preventDefault();let t=void 0!==n?n:k(d)===k(h),p=()=>u(e,{replace:t,state:a,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>p()):p()}},[d,u,h,n,a,t,e,s,i,o,l,c])}(f,{replace:c,state:u,target:h,preventScrollReset:p,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x});let R=r.createElement("a",d(d(d({},y),T),{},{href:_.absoluteURL||j,onClick:_.isExternal||l?n:function(e){n&&n(e),e.defaultPrevented||C(e)},ref:wt(t,N),target:h,"data-discover":S||"render"!==a?void 0:"true"}));return E&&!S?r.createElement(r.Fragment,null,R,r.createElement(mt,{page:j})):R});Et.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:h}=e,f=i(e,g),p=je(c,{relative:f.relative}),m=xe(),v=r.useContext(ce),{navigator:y,basename:b}=r.useContext(me),x=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(he);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Ct("useViewTransitionState"),s=je(e,{relative:t});if(!n.isTransitioning)return!1;let i=q(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=q(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=B(s.pathname,o)||null!=B(s.pathname,i)}(p)&&!0===u,S=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,_=m.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(_=_.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&b&&(k=q(k,b)||k);const j="/"!==S&&S.endsWith("/")?S.length-1:S.length;let E,N=_===S||!o&&_.startsWith(S)&&"/"===_.charAt(j),T=null!=k&&(k===S||!o&&k.startsWith(S)&&"/"===k.charAt(S.length)),C={isActive:N,isPending:T,isTransitioning:x},R=N?n:void 0;E="function"===typeof s?s(C):[s,N?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof l?l(C):l;return r.createElement(Et,d(d({},f),{},{"aria-current":R,className:E,ref:t,style:O,to:c,viewTransition:u}),"function"===typeof h?h(C):h)}).displayName="NavLink";var Nt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:l,state:c,method:u=Ge,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y}=e,b=i(e,v),{unstable_useTransitions:x}=r.useContext(me),S=Pt(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(me),a=r.useContext(ve);w(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=d({},je(e||".",{relative:t})),o=xe();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:Y([n,i.pathname]));return k(i)}(h,{relative:p}),j="get"===u.toLowerCase()?"get":"post",E="string"===typeof h&&jt.test(h);return r.createElement("form",d(d({ref:t,method:j,action:_,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,i=()=>S(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});x&&!1!==s?r.startTransition(()=>i()):i()}},b),{},{"data-discover":E||"render"!==n?void 0:"true"}))});function Tt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ct(e){let t=r.useContext(le);return w(t,Tt(e)),t}Nt.displayName="Form";var Rt=0,Ot=()=>"__".concat(String(++Rt),"__");function Pt(){let{router:e}=Ct("useSubmit"),{basename:t}=r.useContext(me),n=Ue("useRouteId"),a=e.fetch,s=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:l,formData:c,body:u}=Ze(e,t);if(!1===r.navigate){let e=r.fetcherKey||Ot();await a(e,n,r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await s(r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,s,t,n])}const It=n.p+"static/media/AlumpreneurLogo.e6b5aa49800e62283073.png";function Dt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function At(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(fi){s(fi)}}function o(e){try{l(r.throw(e))}catch(fi){s(fi)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class Lt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Ut extends Lt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ft extends Lt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mt extends Lt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(zt||(zt={}));class Bt{constructor(e){let{headers:t={},customFetch:n,region:r=zt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return At(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let a,s;try{const{headers:i,method:o,body:l,signal:c,timeout:u}=n;let d={},{region:h}=n;h||(h=t.region);const f=new URL("".concat(t.url,"/").concat(e));let p;h&&"any"!==h&&(d["x-region"]=h,f.searchParams.set("forceFunctionRegion",h)),l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):"string"===typeof l?(d["Content-Type"]="text/plain",p=l):"undefined"!==typeof FormData&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let m=c;u&&(s=new AbortController,a=setTimeout(()=>s.abort(),u),c?(m=s.signal,c.addEventListener("abort",()=>s.abort())):m=s.signal);const g=yield t.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),i),body:p,signal:m}).catch(e=>{throw new Ut(e)}),v=g.headers.get("x-relay-error");if(v&&"true"===v)throw new Ft(g);if(!g.ok)throw new Mt(g);let y,b=(null!==(r=g.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return y="application/json"===b?yield g.json():"application/octet-stream"===b||"application/pdf"===b?yield g.blob():"text/event-stream"===b?g:"multipart/form-data"===b?yield g.formData():yield g.text(),{data:y,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof Mt||i instanceof Ft?i.context:void 0}}finally{a&&clearTimeout(a)}}()})}}var Wt=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ht=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,this.urlLengthLimit=null!==(r=e.urlLengthLimit)&&void 0!==r?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,a=null,s=e.status,i=e.statusText;if(e.ok){var o,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(o=n.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&d&&d.length>1&&(a=parseInt(d[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,a=null,s=406,i="Not Acceptable"):r=1===r.length?r[0]:null)}else{var u;const a=await e.text();try{t=JSON.parse(a),Array.isArray(t)&&404===e.status&&(r=[],t=null,s=200,i="OK")}catch(d){404===e.status&&""===a?(s=204,i="No Content"):t={message:a}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,s=200,i="OK"),t&&n.shouldThrowOnError)throw new Wt(t)}return{error:t,data:r,count:a,status:s,statusText:i}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="",r="",a="";const s=null===e||void 0===e?void 0:e.cause;if(s){var i,o,l,c;const t=null!==(i=null===s||void 0===s?void 0:s.message)&&void 0!==i?i:"",r=null!==(o=null===s||void 0===s?void 0:s.code)&&void 0!==o?o:"";n="".concat(null!==(l=null===e||void 0===e?void 0:e.name)&&void 0!==l?l:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(c=null===s||void 0===s?void 0:s.name)&&void 0!==c?c:"Error",": ").concat(t),r&&(n+=" (".concat(r,")")),(null===s||void 0===s?void 0:s.stack)&&(n+="\n".concat(s.stack))}else{var u;n=null!==(u=null===e||void 0===e?void 0:e.stack)&&void 0!==u?u:""}const d=this.url.toString().length;return"AbortError"===(null===e||void 0===e?void 0:e.name)||"ABORT_ERR"===(null===e||void 0===e?void 0:e.code)?(a="",r="Request was aborted (timeout or manual cancellation)",d>this.urlLengthLimit&&(r+=". Note: Your request URL is ".concat(d," characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side."))):"HeadersOverflowError"!==(null===s||void 0===s?void 0:s.name)&&"UND_ERR_HEADERS_OVERFLOW"!==(null===s||void 0===s?void 0:s.code)||(a="",r="HTTP headers exceeded server limits (typically 16KB)",d>this.urlLengthLimit&&(r+=". Your request URL is ".concat(d," characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead."))),{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:r,code:a},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},qt=class extends Ht{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const Vt=new RegExp("[,()]");var Kt=class extends qt{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&Vt.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&Vt.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},Gt=class{constructor(e,t){let{headers:n={},schema:r,fetch:a,urlLengthLimit:s=8e3}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},a=n?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),r&&l.append("Prefer","count=".concat(r)),new Kt({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer","count=".concat(t)),n||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));a.searchParams.set("columns",e.join(","))}}return new Kt({method:"POST",url:a,headers:s,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;const{url:i,headers:o}=this.cloneRequestState();if(o.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&i.searchParams.set("on_conflict",t),r&&o.append("Prefer","count=".concat(r)),a||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));i.searchParams.set("columns",e.join(","))}}return new Kt({method:"POST",url:i,headers:o,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer","count=".concat(t)),new Kt({method:"PATCH",url:r,headers:a,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new Kt({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e){var t=function(e,t){if("object"!=Jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jt(t)?t:t+""}function Qt(e,t,n){return(t=$t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach(function(t){Qt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Zt=class e{constructor(e){let{headers:t={},schema:n,fetch:r,timeout:a,urlLengthLimit:s=8e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=s;const i=null!==r&&void 0!==r?r:globalThis.fetch;this.fetch=void 0!==a&&a>0?(e,t)=>{const n=new AbortController,r=setTimeout(()=>n.abort(),a),s=null===t||void 0===t?void 0:t.signal;if(s){if(s.aborted)return clearTimeout(r),i(e,t);const a=()=>{clearTimeout(r),n.abort()};return s.addEventListener("abort",a,{once:!0}),i(e,Xt(Xt({},t),{},{signal:n.signal})).finally(()=>{clearTimeout(r),s.removeEventListener("abort",a)})}return i(e,Xt(Xt({},t),{},{signal:n.signal})).finally(()=>clearTimeout(r))}:i}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gt(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let i;const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),u=n&&Object.values(t).some(c);u?(i="POST",l=t):n||r?(i=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(i="POST",l=t);const d=new Headers(this.headers);return u?d.set("Prefer",a?"count=".concat(a,",return=minimal"):"return=minimal"):a&&d.set("Prefer","count=".concat(a)),new Kt({method:i,url:o,headers:d,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}};const en=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}};const tn="realtime-js/".concat("2.95.3"),nn="2.0.0",rn=nn,an=1e4;var sn,on,ln,cn,un,dn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(sn||(sn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(on||(on={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(ln||(ln={})),function(e){e.websocket="websocket"}(cn||(cn={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(un||(un={}));class hn{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},a=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,n){var r,a;const s=e.topic,i=null!==(r=e.ref)&&void 0!==r?r:"",o=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error("joinRef length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("ref length ".concat(i.length," exceeds maximum of 255"));if(s.length>255)throw new Error("topic length ".concat(s.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,o.length),f.setUint8(p++,i.length),f.setUint8(p++,s.length),f.setUint8(p++,l.length),f.setUint8(p++,u.length),f.setUint8(p++,t),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+n.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(n),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,a,s,i,o]=n;return t({join_ref:r,ref:a,topic:s,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2),s=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=n.decode(e.slice(o,o+r));o+=r;const c=n.decode(e.slice(o,o+a));o+=a;const u=n.decode(e.slice(o,o+s));o+=s;const d=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,f={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class fn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(dn||(dn={}));const pn=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,a)=>(n[a]=mn(a,e,t,r),n),{}):{}},mn=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?gn(s,i):vn(i)},gn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return xn(t,n)}switch(e){case dn.bool:return yn(t);case dn.float4:case dn.float8:case dn.int2:case dn.int4:case dn.int8:case dn.numeric:case dn.oid:return bn(t);case dn.json:case dn.jsonb:return wn(t);case dn.timestamp:return Sn(t);case dn.abstime:case dn.date:case dn.daterange:case dn.int4range:case dn.int8range:case dn.money:case dn.reltime:case dn.text:case dn.time:case dn.timestamptz:case dn.timetz:case dn.tsrange:case dn.tstzrange:default:return vn(t)}},vn=e=>e,yn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},xn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>gn(t,e))}return e},Sn=e=>"string"===typeof e?e.replace(" ","T"):e,_n=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:an;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jn,En,Nn,Tn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(jn||(jn={}));class Cn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Cn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Cn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(En||(En={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Nn||(Nn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Tn||(Tn={}));class Rn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new kn(this,ln.join,this.params,this.timeout),this.rejoinTimer=new fn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=on.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Cn(this),this.broadcastEndpointURL=_n(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==on.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[Nn.PRESENCE]&&this.bindings[Nn.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(Tn.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!(u&&u.event===i&&Rn.isFilterValueEqual(u.schema,o)&&Rn.isFilterValueEqual(u.table,l)&&Rn.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=on.errored,void(null===e||void 0===e||e(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(Tn.SUBSCRIBED))}null===e||void 0===e||e(Tn.SUBSCRIBED)}).receive("error",t=>{this.state=on.errored,null===e||void 0===e||e(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===on.joined&&e===Nn.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization="Bearer ".concat(this.socket.accessTokenValue));const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=on.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new kn(this,ln.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=on.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new kn(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=ln;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Rn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ln.close,{},e)}_onError(e){this._on(ln.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=pn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=pn(e.columns,e.old_record)),t}}const On=()=>{},Pn=25e3,In=10,Dn=100,An=[1e3,2e3,5e3,1e4];class Ln{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=an,this.transport=null,this.heartbeatIntervalMs=Pn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=On,this.ref=0,this.reconnectTimer=null,this.vsn=rn,this.logger=On,this.conn=null,this.sendBuffer=[],this.serializer=new hn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(cn.websocket),this.httpEndpoint=_n(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=en.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return"ok"===t&&this._remove(e),0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sn.connecting:return un.Connecting;case sn.open:return un.Open;case sn.closing:return un.Closing;default:return un.Closed}}isConnected(){return this.connectionState()===un.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new Rn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(fi){this.log("error","error in heartbeat callback",fi)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Dn)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(fi){this.log("error","error in heartbeat callback",fi)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(fi){this.log("error","error in heartbeat callback",fi)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(fi){this.log("error","error in heartbeat callback",fi)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===sn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sn.open||this.conn.readyState===sn.connecting)try{this.conn.close()}catch(fi){this.log("error","Error closing connection",fi)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(fi){this.log("error","error in heartbeat callback",fi)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ln.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(fi){this.log("error","Error fetching access token from callback",fi),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:tn};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(ln.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(fi){this.log("error","error in ".concat(e," callback"),fi)}})}catch(fi){this.log("error","error triggering ".concat(e," callbacks"),fi)}}_setupReconnectionTimer(){this.reconnectTimer=new fn(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},In)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,i,o,l,c,u,d,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:an,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Pn,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:On,this.vsn=null!==(o=null===e||void 0===e?void 0:e.vsn)&&void 0!==o?o:rn,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>An[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null===e||void 0===e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case nn:this.encode=null!==(d=null===e||void 0===e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var Un=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Fn(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:a,query:s,body:i,headers:o}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[a,s]of Object.entries(n))void 0!==s&&r.searchParams.set(a,s);return r.toString()}(e.baseUrl,a,s),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),u=await n(l,{method:r,headers:d(d(d({},i?{"Content-Type":"application/json"}:{}),c),o),body:i?JSON.stringify(i):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!u.ok){var m;const e=f?p:void 0,t=null===e||void 0===e?void 0:e.error;throw new Un(null!==(m=null===t||void 0===t?void 0:t.message)&&void 0!==m?m:"Request failed with status ".concat(u.status),{status:u.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:u.status,headers:u.headers,data:p}}}}function Mn(e){return e.join("\x1f")}var zn=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Mn(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(Mn(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Mn(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(Mn(e.namespace))}),!0}catch(t){if(t instanceof Un&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Un&&409===n.status)return;throw n}}};function Bn(e){return e.join("\x1f")}var Wn=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Bn(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(Bn(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(Bn(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(Bn(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Bn(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(Bn(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof Un&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Un&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Hn=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=Fn({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new zn(this.client,n),this.tableOps=new Wn(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var qn=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"storage",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Vn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var Kn=class extends qn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";super(e,r,t,n),this.name="vectors"===r?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gn=class extends qn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"storage";super(e,n),this.name="vectors"===n?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Jn=e=>{if(Array.isArray(e))return e.map(e=>Jn(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Jn(r)}),t};function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e){var t=function(e,t){if("object"!=$n(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$n(t)?t:t+""}function Yn(e,t,n){return(t=Qn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach(function(t){Yn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const er=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},tr=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Zn({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Zn(Zn({},a),n)):Zn(Zn({},a),n)};async function nr(e,t,n,r,a,s,i){return new Promise((o,l)=>{e(n,tr(t,r,a,s)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;if("vectors"===i){const t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status)return{};if(!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>o(e)).catch(e=>(async(e,t,n,r)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e,a=n.status||500;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||a+"";t(new Kn(er(e),a,n,r))}).catch(()=>{if("vectors"===r){const e=a+"";t(new Kn(n.statusText||"HTTP ".concat(a," error"),a,e,r))}else{const e=a+"";t(new Kn(n.statusText||"HTTP ".concat(a," error"),a,e,r))}});else{const e=a+"";t(new Kn(n.statusText||"HTTP ".concat(a," error"),a,e,r))}}else t(new Gn(er(e),e,r))})(e,l,r,i))})}function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"storage";return{get:async(t,n,r,a)=>nr(t,"GET",n,r,a,void 0,e),post:async(t,n,r,a,s)=>nr(t,"POST",n,a,s,r,e),put:async(t,n,r,a,s)=>nr(t,"PUT",n,a,s,r,e),head:async(t,n,r,a)=>nr(t,"HEAD",n,Zn(Zn({},r),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,n,r,a,s)=>nr(t,"DELETE",n,a,s,r,e)}}const ar=rr("storage"),{get:sr,post:ir,put:or,head:lr,remove:cr}=ar,ur=rr("vectors");var dr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";var a;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(a=n)?function(){return a(...arguments)}:function(){return fetch(...arguments)},this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){try{return{data:await e(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vn(t))return{data:null,error:t};throw t}}},hr=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vn(e))return{data:null,error:e};throw e}}};let fr;fr=Symbol.toStringTag;var pr=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fr]="BlobDownloadBuilder",this.promise=null}asStream(){return new hr(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vn(e))return{data:null,error:e};throw e}}};const mr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vr=class extends dr{constructor(e){let t=arguments.length>2?arguments[2]:void 0;super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>3?arguments[3]:void 0,"storage"),this.bucketId=t}async uploadOrUpdate(e,t,n,r){var a=this;return a.handleOperation(async()=>{let s;const i=Zn(Zn({},gr),r);let o=Zn(Zn({},a.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const l=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=n,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&s instanceof ReadableStream||s&&"object"===typeof s&&"pipe"in s&&"function"===typeof s.pipe)&&!i.duplex&&(i.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(o=Zn(Zn({},o),r.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),d=await("PUT"==e?or:ir)(a.fetch,"".concat(a.url,"/object/").concat(u),s,Zn({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+"/object/upload/sign/".concat(i));return o.searchParams.set("token",t),a.handleOperation(async()=>{let e;const t=Zn({upsert:gr.upsert},r),i=Zn(Zn({},a.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType),{path:s,fullPath:(await or(a.fetch,o.toString(),e,{headers:i})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const a=Zn({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const s=await ir(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:a}),i=new URL(n.url+s.url),o=i.searchParams.get("token");if(!o)throw new qn("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await ir(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await ir(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(e),s=await ir(r.fetch,"".concat(r.url,"/object/sign/").concat(a),Zn({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{signedUrl:encodeURI("".concat(r.url).concat(s.signedURL).concat(i))}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const a=await ir(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a.map(e=>Zn(Zn({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(s)):null}))})}download(e,t,n){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=a?"?".concat(a):"",i=this._getFinalPath(e);return new pr(()=>sr(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(i).concat(s),{headers:this.headers,noResolveJson:!0},n),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Jn(await sr(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await lr(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Vn(r)&&r instanceof Gn){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}async remove(e){var t=this;return t.handleOperation(async()=>await cr(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const a=Zn(Zn(Zn({},mr),t),{},{prefix:e||""});return await ir(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),a,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Zn({},e);return await ir(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const yr={"X-Client-Info":"storage-js/".concat("2.95.3")};var br=class extends dr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));super(a.href.replace(/\/$/,""),Zn(Zn({},yr),t),n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await sr(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await sr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}))}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;return n.handleOperation(async()=>await ir(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await or(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ir(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},wr=class extends dr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Zn(Zn({},yr),t),n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ir(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),a=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return await sr(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new qn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Hn({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return{data:await n.apply(e,a),error:null}}catch(i){if(r)throw i;return{data:null,error:i}}}}})}},xr=class extends dr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Zn(Zn({},yr),{},{"Content-Type":"application/json"},t),n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ur.post(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ur.post(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Sr=class extends dr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Zn(Zn({},yr),{},{"Content-Type":"application/json"},t),n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{})}},_r=class extends dr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Zn(Zn({},yr),{},{"Content-Type":"application/json"},t),n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}))}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ur.post(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}},kr=class extends _r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new jr(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},jr=class extends xr{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,Zn(Zn({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,Zn(Zn({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new Er(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Er=class extends Sr{constructor(e,t,n,r,a){super(e,t,a),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Zn(Zn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Zn(Zn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,Zn(Zn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Zn(Zn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Zn(Zn({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Nr=class extends br{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new vr(this.url,this.headers,e,this.fetch)}get vectors(){return new kr(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wr(this.url+"/iceberg",this.headers,this.fetch)}};const Tr="2.95.3",Cr=3e4,Rr=9e4,Or={"X-Client-Info":"gotrue-js/".concat(Tr)},Pr="X-Supabase-Api-Version",Ir={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Dr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ar extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Lr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Ur extends Ar{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Fr extends Ar{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Mr extends Ar{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class zr extends Mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Br(e){return Lr(e)&&"AuthSessionMissingError"===e.name}class Wr extends Mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hr extends Mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qr extends Mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vr extends Mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kr extends Mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Gr extends Mr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Jr(e){return Lr(e)&&"AuthRetryableFetchError"===e.name}class $r extends Mr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Qr extends Mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xr=" \t\n\r=".split(""),Zr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xr.length;t+=1)e[Xr[t].charCodeAt(0)]=-2;for(let t=0;t<Yr.length;t+=1)e[Yr[t].charCodeAt(0)]=t;return e})();function ea(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Yr[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Yr[e]),t.queuedBits-=6}}function ta(e,t,n){const r=Zr[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function na(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)ta(e.charCodeAt(i),a,s);return t.join("")}function ra(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function aa(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}ra(r,t)}}function sa(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)ta(e.charCodeAt(a),n,r);return new Uint8Array(t)}function ia(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>ea(e,n,r)),ea(null,n,r),t.join("")}const oa=()=>"undefined"!==typeof window&&"undefined"!==typeof document,la={tested:!1,writable:!1},ca=()=>{if(!oa())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(fi){return!1}if(la.tested)return la.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),la.tested=!0,la.writable=!0}catch(fi){la.tested=!0,la.writable=!1}return la.writable};const ua=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},da=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ha=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},fa=async(e,t)=>{await e.removeItem(t)};class pa{constructor(){this.promise=new pa.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function ma(e){const t=e.split(".");if(3!==t.length)throw new Qr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Dr.test(t[n]))throw new Qr("JWT not in base64url format");return{header:JSON.parse(na(t[0])),payload:JSON.parse(na(t[1])),signature:sa(t[2]),raw:{header:t[0],payload:t[1]}}}function ga(e){return("0"+e.toString(16)).substr(-2)}async function va(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ga).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await da(e,"".concat(t,"-code-verifier"),a);const s=await va(r);return[s,r===s?"plain":"s256"]}pa.promiseConstructor=Promise;const ba=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const wa=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xa(e){if(!wa.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sa(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function _a(e){return JSON.parse(JSON.stringify(e))}const ka=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ja=[502,503,504];async function Ea(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Gr(ka(e),0);if(ja.includes(e.status))throw new Gr(ka(e),e.status);let r,a;try{r=await e.json()}catch(fi){throw new Fr(ka(fi),fi)}const s=function(e){const t=e.headers.get(Pr);if(!t)return null;if(!t.match(ba))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(fi){return null}}(e);if(s&&s.getTime()>=Ir.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new $r(ka(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new zr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new $r(ka(r),e.status,r.weak_password.reasons);throw new Ur(ka(r),e.status||500,a)}async function Na(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[Pr]||(s[Pr]=Ir.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(fi){throw console.error(fi),new Gr(ka(fi),0)}o.ok||await Ea(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(fi){await Ea(fi)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Ta(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ca(e){const t=Ta(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Ra(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Oa(e){return{data:e,error:null}}function Pa(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=Dt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function Ia(e){return e}const Da=["global","local","others"];class Aa{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=ua(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Da[0];if(Da.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Da.join(", ")));try{return await Na(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Na(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ra})}catch(n){if(Lr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Dt(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Na(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:Pa,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Lr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Na(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Ra})}catch(t){if(Lr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Na(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Ia});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Lr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){xa(e);try{return await Na(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Ra})}catch(t){if(Lr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){xa(e);try{return await Na(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Ra})}catch(n){if(Lr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];xa(e);try{return await Na(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Ra})}catch(n){if(Lr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){xa(e.userId);try{const{data:t,error:n}=await Na(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Lr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){xa(e.userId),xa(e.id);try{return{data:await Na(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Lr(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Na(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Ia});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Lr(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Na(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Lr(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Na(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Lr(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Na(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(Lr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Na(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Lr(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Na(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Lr(t))return{data:null,error:t};throw t}}}function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ua=!!(globalThis&&ca()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Fa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ma extends Fa{}async function za(e,t,n){Ua&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ua&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw Ua&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ma('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Ua)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(fi){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",fi)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Ua&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Ua&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function Ba(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Wa(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Ha extends Error{constructor(e){let{message:t,code:n,cause:r,name:a}=e;var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(s=null!==a&&void 0!==a?a:r instanceof Error?r.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=n}}class qa extends Ha{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Va(e){let{error:t,options:n}=e;var r,a,s;const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Ha({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new Ha({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new Ha({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new Ha({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new Ha({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new Ha({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Ha({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ha({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Xa(e))return new Ha({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new Ha({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ha({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new Ha({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ha({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ka(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new Ha({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new Ha({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Xa(e))return new Ha({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new Ha({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new Ha({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ha({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ga=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Ja(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=Dt(e,["challenge","user","excludeCredentials"]),s=sa(t).buffer,i=Object.assign(Object.assign({},n),{id:sa(n.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:sa(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function $a(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Dt(e,["challenge","allowCredentials"]),a=sa(t).buffer,s=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:sa(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Qa(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ia(new Uint8Array(e.response.attestationObject)),clientDataJSON:ia(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Ya(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ia(new Uint8Array(a.authenticatorData)),clientDataJSON:ia(new Uint8Array(a.clientDataJSON)),signature:ia(new Uint8Array(a.signature)),userHandle:a.userHandle?ia(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Xa(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Za(){var e,t;return!!(oa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const es={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ts={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ns(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];for(const i of a)if(i)for(const r in i){const a=i[r];if(void 0!==a)if(Array.isArray(a))n[r]=a;else if(t(a))n[r]=a;else if(e(a)){const t=n[r];e(t)?n[r]=ns(t,a):n[r]=ns(a)}else n[r]=a}return n}class rs{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:a,signal:s}=e;var i;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:o};const l=null!==s&&void 0!==s?s:Ga.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;if(!t.name){const e=a;if(e)t.name="".concat(t.id,":").concat(e);else{const e=(await this.client.getUser()).data.user,n=(null===(i=null===e||void 0===e?void 0:e.user_metadata)||void 0===i?void 0:i.name)||(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e?void 0:e.id)||"User";t.name="".concat(t.id,":").concat(n)}}t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return ns(es,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qa("Browser returned unexpected credential type",t)}:{data:null,error:new qa("Empty credential response",t)}}catch(t){return{data:null,error:Va({error:t,options:e})}}}({publicKey:r,signal:l});return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}case"request":{const r=function(e,t){return ns(ts,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qa("Browser returned unexpected credential type",t)}:{data:null,error:new qa("Empty credential response",t)}}catch(t){return{data:null,error:Ka({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:l}));return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}}}catch(o){return Lr(o)?{data:null,error:o}:{data:null,error:new Fr("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new Ar("rpId is required for WebAuthn authentication")};try{if(!Za())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:t});if(!e)return{data:null,error:i};const{webauthn:o}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:a,credential_response:o.credential_response}})}catch(i){return Lr(i)?{data:null,error:i}:{data:null,error:new Fr("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new Ar("rpId is required for WebAuthn registration")};try{if(!Za())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:t});return o?this._verify({factorId:e.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return Lr(i)?{data:null,error:i}:{data:null,error:new Fr("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(fi){"undefined"!==typeof self&&(self.globalThis=self)}}();const as={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Or,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ss(e,t,n){return await n()}const is={};class os{get jwks(){var e,t;return null!==(t=null===(e=is[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=is[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},as),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=os.nextInstanceID[this.storageKey])&&void 0!==t?t:0,os.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&oa()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Aa({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ua(a.fetch),this.lock=a.lock||ss,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&oa()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=za:this.lock=ss,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rs(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ca()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=La(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=La(this.memoryStorage)),oa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(fi){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",fi)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(t){this._debug("#broadcastChannel","error",t)}})}this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(Tr,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(oa()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(fi){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),oa()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Lr(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Lr(t)?this._returnResult({error:t}):this._returnResult({error:new Fr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Na(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Ta}),{data:s,error:i}=a;if(i||!s)return this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(Lr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ya(this.storage,this.storageKey)),a=await Na(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:Ta})}else{if(!("phone"in e))throw new Hr("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await Na(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Ta})}}const{data:s,error:i}=a;if(i||!s)return await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),Lr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Ca})}else{if(!("phone"in e))throw new Hr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Ca})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(Lr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,a,s,i,o,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let g;if(oa())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),y=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Ba(y[0]);let w=null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=await g.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=Ba(e.address),p=u?"".concat(u,"://").concat(r):r,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let v="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(s.toISOString());if(a&&(v+="\nExpiration Time: ".concat(a.toISOString())),o&&(v+="\nNot Before: ".concat(o.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:b,statement:p,uri:v.href,version:"1",chainId:w,nonce:null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(s=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[Wa(h),b]})}try{const{data:t,error:n}=await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Ta});if(n)throw n;if(!t||!t.session||!t.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(p){if(Lr(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,n,r,a,s,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(oa())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ia(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Ta});if(n)throw n;if(!t||!t.session||!t.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(Lr(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await ha(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new Kr;const{data:t,error:a}=await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ta});if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new Wr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a})}catch(a){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),Lr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Ta}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Wr;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(Lr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await ya(this.storage,this.storageKey));const{error:o}=await Na(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Na(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new Hr("You must provide either an email or phone number.")}catch(i){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),Lr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await Na(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Ta});if(i)throw i;if(!s){throw new Error("An error occurred on token verification.")}const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(Lr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,a,s;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ya(this.storage,this.storageKey));const l=await Na(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Oa});return(null===(a=l.data)||void 0===a?void 0:a.url)&&oa()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),Lr(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new zr;const{error:r}=await Na(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Lr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Na(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await Na(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i})}throw new Hr("You must provide either an email or phone number and a type")}catch(t){if(Lr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(fi){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(fi){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Rr;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await ha(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Sa()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Na(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Ra}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Na(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Ra}):{data:{user:null},error:new zr}})}catch(t){if(Lr(t))return Br(t)&&(await this._removeSession(),await fa(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new zr;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await ya(this.storage,this.storageKey));const{data:l,error:c}=await Na(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Ra});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),Lr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zr;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=ma(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(Lr(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new zr;const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Lr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!oa())throw new qr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Vr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new qr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new qr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Cr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(Lr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ha(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a&&!Br(a))return this._returnResult({error:a});const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return Lr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status)&&!Br(t))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await fa(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await ya(this.storage,this.storageKey,!0));try{return await Na(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),Lr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Na(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return oa()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(Lr(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:a}}=t;if(r)throw r;const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,u=await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===a||void 0===a?void 0:a.access_token)&&void 0!==n?n:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Ta}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new Wr})}catch(r){if(await fa(this.storage,"".concat(this.storageKey,"-code-verifier")),Lr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Na(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Na(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Ta})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Jr(t)&&Date.now()+n-a<Cr},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(fi){if(!r(a,fi))return void t(fi)}})()}))}catch(a){if(this._debug(t,"error",a),Lr(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),oa()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ha(this.storage,this.storageKey);if(a&&this.userStorage){let t=await ha(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await da(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Sa()}else if(a&&!a.user&&!a.user){const e=await ha(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await fa(this.storage,this.storageKey+"-user"),await da(this.storage,this.storageKey,a)):a.user=Sa()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Rr;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(Rr,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Jr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new pa;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new zr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),Lr(a)){const e={data:null,error:a};return Jr(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(fi){r.push(fi)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fa(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await da(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=_a(e);await da(this.storage,this.storageKey,r)}else{const e=_a(t);await da(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fa(this.storage,this.storageKey),await fa(this.storage,this.storageKey+"-code-verifier"),await fa(this.storage,this.storageKey+"-user"),this.userStorage&&await fa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&oa()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(fi){console.error("removing visibilitychange callback failed",fi)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Cr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Cr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(fi){console.error("Auto refresh tick failed with error. This is likely a transient error.",fi)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(fi){if(!(fi.isAcquireTimeout||fi instanceof Fa))throw fi;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oa()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await ya(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?this._returnResult({data:null,error:a}):await Na(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await Na(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),this._returnResult({data:o,error:null}))})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Qa(e.webauthn.credential_response):Ya(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await Na(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:s,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=await Na(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(s.error)return s;const{data:i}=s;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Ja(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:$a(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(a),"verified"===a.status&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,n,r,a;if(e)try{const{payload:r}=ma(e);let a=null;r.aal&&(a=r.aal);let s=a;const{data:{user:i},error:o}=await this.getUser(e);if(o)return this._returnResult({data:null,error:o});(null!==(n=null===(t=null===i||void 0===i?void 0:i.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:r.amr||[]},error:null}}catch(u){if(Lr(u))return this._returnResult({data:null,error:u});throw u}const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ma(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;(null!==(a=null===(r=s.user.factors)||void 0===r?void 0:r.filter(e=>"verified"===e.status))&&void 0!==a?a:[]).length>0&&(c="aal2");return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:o.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Na(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new zr})})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new zr});const s=await Na(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&oa()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Lr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new zr});const s=await Na(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&oa()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Lr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await Na(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new zr})})}catch(e){if(Lr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await Na(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zr})})}catch(t){if(Lr(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await Na(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=ma(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return aa(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Qr("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(Lr(n))return this._returnResult({data:null,error:n});throw n}}}os.nextInstanceID={};const ls=os;let cs="";cs="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const us={headers:{"X-Client-Info":"supabase-js-".concat(cs,"/").concat("2.95.3")}},ds={schema:"public"},hs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fs={};function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e){var t=function(e,t){if("object"!=ps(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ps(t)?t:t+""}function gs(e,t,n){return(t=ms(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach(function(t){gs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const bs=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),a=Headers;return async(n,s)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,ys(ys({},s),{},{headers:l}))}};var ws=class extends ls{constructor(e){super(e)}},xs=class{constructor(e,t,n){var r,a;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i="sb-".concat(s.hostname.split(".")[0],"-auth-token"),o=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:ys(ys({},l),a),auth:ys(ys({},c),s),realtime:ys(ys({},u),i),storage:{},global:ys(ys(ys({},d),o),{},{headers:ys(ys({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:ds,realtime:fs,auth:ys(ys({},hs),{},{storageKey:i}),global:us});var l;(this.storageKey=null!==(r=o.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=o.global.headers)&&void 0!==a?a:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=bs(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(ys({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new Zt(new URL("rest/v1",s).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new Nr(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new Bt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:h}=e;const f={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new ws({url:this.authUrl.href,headers:ys(ys({},f),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:u,debug:d,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Ln(this.realtimeUrl.href,ys(ys({},e),{},{params:ys(ys({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ss={NODE_ENV:"production",PUBLIC_URL:"/Glass-Defect-Detection-Prototype",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL,_s={NODE_ENV:"production",PUBLIC_URL:"/Glass-Defect-Detection-Prototype",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY;let ks,js;async function Es(){await async function(){const{error:e}=await js.signOut();if(e)throw e}()}Ss&&_s?(ks=((e,t,n)=>new xs(e,t,n))(Ss,_s),js=ks.auth,console.log("\u2705 Supabase initialized")):(console.error("\u274c Supabase not configured"),js={currentUser:null},ks=null);var Ns=n(579);const Ts=function(){const[e,t]=(0,r.useState)("employee"),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),f=ke();(0,r.useEffect)(()=>{const e="true"===localStorage.getItem("rememberMe"),t=localStorage.getItem("email")||"";e&&(l(!0),t&&a(t))},[]),(0,r.useEffect)(()=>{(async()=>{try{if("true"===sessionStorage.getItem("adminLoggedIn"))return void f("/admin-dashboard");const e=await async function(){var e;const{data:t,error:n}=await js.getSession();if(n)throw n;return(null===(e=t.session)||void 0===e?void 0:e.user)||null}();e&&"true"===sessionStorage.getItem("loggedIn")&&f("/dashboard")}catch(e){}})()},[f]);const p=e=>{t(e),u(""),a(""),i("")};return(0,Ns.jsx)("div",{className:"login-container",children:(0,Ns.jsxs)("div",{className:"login-card",children:[(0,Ns.jsx)("div",{className:"login-logo",children:(0,Ns.jsx)("img",{src:It,alt:"Alumpreneur Logo"})}),(0,Ns.jsx)("h1",{className:"login-title",children:"Glass Defect Detector"}),(0,Ns.jsxs)("div",{className:"login-role-tabs",children:[(0,Ns.jsx)("button",{type:"button",className:"role-tab".concat("admin"===e?" active":""),onClick:()=>p("admin"),children:"Admin"}),(0,Ns.jsx)("button",{type:"button",className:"role-tab".concat("employee"===e?" active":""),onClick:()=>p("employee"),children:"Employee"})]}),(0,Ns.jsxs)("form",{className:"login-form",onSubmit:"admin"===e?async e=>{e.preventDefault(),u(""),h(!0);try{const e=await async function(e,t){const{data:n,error:r}=await js.signInWithPassword({email:e,password:t});if(r)throw new Error(r.message);if(!ks)throw new Error("Supabase not configured");let a=null;const{data:s}=await ks.from("profiles").select("role").eq("id",n.user.id).maybeSingle();if(null!==s&&void 0!==s&&s.role)a=s.role;else{const{data:e}=await ks.from("profiles").select("role").eq("email",n.user.email).maybeSingle();a=(null===e||void 0===e?void 0:e.role)||null}a&&"employee"!==a||({NODE_ENV:"production",PUBLIC_URL:"/Glass-Defect-Detection-Prototype",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_ADMIN_EMAILS||"").split(",").map(e=>e.trim().toLowerCase()).filter(Boolean).includes(n.user.email.toLowerCase())&&(a="admin");return{uid:n.user.id,email:n.user.email,role:a||"employee"}}(n,s);if("admin"!==e.role)return u("This account does not have admin access."),void h(!1);o?(localStorage.setItem("rememberMe","true"),localStorage.setItem("email",n)):(localStorage.removeItem("rememberMe"),localStorage.removeItem("email")),sessionStorage.setItem("adminLoggedIn","true"),sessionStorage.setItem("adminToken",e.uid),sessionStorage.setItem("userId",e.uid),f("/admin-dashboard")}catch(t){let e="Login failed. Please try again.";t.message&&(t.message.includes("Invalid login credentials")?e="Invalid email or password.":t.message.includes("too-many-requests")?e="Too many login attempts. Please try again later.":t.message.includes("email not confirmed")?e="Please verify your email before logging in.":t.message.includes("already registered")&&(e="This email is already registered.")),u(e)}finally{h(!1)}}:async e=>{e.preventDefault(),u(""),h(!0);try{const e=await async function(e,t){const{data:n,error:r}=await js.signInWithPassword({email:e,password:t});if(r)throw r;return n.user}(n,s);o?(localStorage.setItem("rememberMe","true"),localStorage.setItem("email",n)):(localStorage.removeItem("rememberMe"),localStorage.removeItem("email")),sessionStorage.setItem("loggedIn","true"),sessionStorage.setItem("userId",e.id),f("/dashboard")}catch(t){let e="Login failed. Please try again.";t.message&&(t.message.includes("Invalid login credentials")?e="Invalid email or password.":t.message.includes("too-many-requests")?e="Too many login attempts. Please try again later.":t.message.includes("email not confirmed")?e="Please verify your email before logging in.":t.message.includes("already registered")&&(e="This email is already registered.")),u(e)}finally{h(!1)}},children:[(0,Ns.jsxs)("div",{className:"form-group",children:[(0,Ns.jsx)("label",{className:"form-label",htmlFor:"login-email",children:"Email Address"}),(0,Ns.jsx)("input",{className:"form-input",type:"email",id:"login-email",placeholder:"Email",required:!0,value:n,onChange:e=>a(e.target.value),disabled:d})]}),(0,Ns.jsxs)("div",{className:"form-group",children:[(0,Ns.jsx)("label",{className:"form-label",htmlFor:"login-password",children:"Password"}),(0,Ns.jsx)("input",{className:"form-input",type:"password",id:"login-password",placeholder:"Password",required:!0,value:s,onChange:e=>i(e.target.value),disabled:d})]}),(0,Ns.jsxs)("div",{className:"form-checkbox-wrapper",children:[(0,Ns.jsx)("input",{className:"form-checkbox",type:"checkbox",id:"remember",checked:o,onChange:e=>l(e.target.checked)}),(0,Ns.jsx)("label",{className:"form-checkbox-label",htmlFor:"remember",children:"Remember me"})]}),c&&(0,Ns.jsx)("div",{className:"login-error",children:c}),(0,Ns.jsx)("button",{type:"submit",className:"login-button",disabled:d,children:d?"admin"===e?"Verifying\u2026":"Signing In\u2026":"Sign In"})]}),(0,Ns.jsx)("div",{style:{marginTop:"16px",textAlign:"center",fontSize:"12px",color:"#6b7280"},children:(0,Ns.jsx)("p",{children:"Powered by Supabase Authentication"})})]})})};const Cs=function(e){let{logoSrc:t=It,onLogout:n,mainItems:r=[],bottomItems:a=[],activeKey:s,isOpen:i=!1,onToggle:o}=e;const l=Array.isArray(r)?r:[];return(0,Ns.jsxs)(Ns.Fragment,{children:[o&&(0,Ns.jsx)("div",{className:"sidebar-backdrop".concat(i?" sidebar-open":""),onClick:o}),(0,Ns.jsxs)("aside",{className:"machine-sidebar".concat(i?" sidebar-open":""),children:[(0,Ns.jsx)("div",{className:"machine-sidebar-logo",children:(0,Ns.jsx)("img",{src:t,alt:"Alumpreneur Logo",className:"machine-logo-image"})}),(0,Ns.jsx)("div",{className:"machine-sidebar-divider"}),(0,Ns.jsx)("nav",{className:"machine-nav-menu",children:l.map(e=>(0,Ns.jsx)("button",{className:"machine-menu-button ".concat(s===e.key?"active":""),onClick:e.onClick,children:(0,Ns.jsx)("span",{className:"machine-menu-label",children:e.label})},e.key||e.label))}),(0,Ns.jsxs)("div",{className:"machine-bottom-menu",children:[a.map(e=>(0,Ns.jsxs)("button",{className:"machine-bottom-button",onClick:e.onClick,style:{width:"100%"},children:["help"===e.key?(0,Ns.jsxs)("svg",{className:"icon",viewBox:"0 0 24 24",children:[(0,Ns.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Ns.jsx)("path",{d:"M9.09 9a3 3 0 1 1 5.82 1c0 2-3 2-3 4"}),(0,Ns.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}):(0,Ns.jsx)("svg",{className:"icon",viewBox:"0 0 24 24",children:(0,Ns.jsx)("circle",{cx:"12",cy:"12",r:"2"})}),(0,Ns.jsx)("span",{className:"machine-bottom-label",children:e.label})]},e.key||e.label)),(0,Ns.jsxs)("button",{onClick:n,className:"machine-bottom-button sidebar-logout-button",style:{width:"100%"},children:[(0,Ns.jsxs)("svg",{className:"icon",viewBox:"0 0 24 24",children:[(0,Ns.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,Ns.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,Ns.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),(0,Ns.jsx)("span",{className:"machine-bottom-label",children:"Log Out"})]})]})]})]})},Rs={NODE_ENV:"production",PUBLIC_URL:"/Glass-Defect-Detection-Prototype",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"http://localhost:5000";const Os=function(e){let{onApply:t,initialFrom:n="",initialTo:a=""}=e;const[s,i]=(0,r.useState)(n),[o,l]=(0,r.useState)(a),[c,u]=(0,r.useState)("30days"),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(new Set),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{function e(e){m.current&&!m.current.contains(e.target)&&h(!1)}if(d)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[d]),(0,r.useEffect)(()=>{d&&"custom"===c&&g()},[d,c]);const g=async()=>{try{const e=await fetch("".concat(Rs,"/defects?limit=10000&offset=0"));if(!e.ok)return;const t=await e.json(),n=new Set;t.data&&Array.isArray(t.data)&&t.data.forEach(e=>{if(e.detected_at){const t=e.detected_at.split("T")[0];n.add(t)}}),p(n)}catch(e){console.error("[DateRangePicker] Error fetching available dates:",e)}},v=e=>{if("custom"===e)return void u("custom");u(e);const n=(e=>{const t=new Date,n=new Date(t);let r=new Date(t);switch(e){case"today":r.setHours(0,0,0,0);break;case"7days":r.setDate(r.getDate()-6),r.setHours(0,0,0,0);break;case"30days":r.setDate(r.getDate()-29),r.setHours(0,0,0,0);break;default:return null}return{from:r.toISOString().split("T")[0],to:n.toISOString().split("T")[0]}})(e);n&&(i(n.from),l(n.to),t({from:n.from,to:n.to,preset:e}),h(!1))},y=e=>{if(!e)return"";return new Date(e+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},b=e=>f.has(e),w=s&&o?"".concat(y(s)," \u2014 ").concat(y(o)):"Select date range";return(0,Ns.jsxs)("div",{className:"drp-container",ref:m,children:[(0,Ns.jsxs)("div",{className:"drp-trigger",onClick:()=>h(!d),title:w,children:["\ud83d\udcc5 ",w]}),d&&(0,Ns.jsxs)("div",{className:"drp-dropdown",children:[(0,Ns.jsxs)("div",{className:"drp-presets-list",children:[(0,Ns.jsx)("button",{className:"drp-preset-option ".concat("today"===c?"active":""),onClick:()=>v("today"),children:"Today"}),(0,Ns.jsx)("button",{className:"drp-preset-option ".concat("7days"===c?"active":""),onClick:()=>v("7days"),children:"Last 7 days"}),(0,Ns.jsx)("button",{className:"drp-preset-option ".concat("30days"===c?"active":""),onClick:()=>v("30days"),children:"Last 30 days"}),(0,Ns.jsx)("div",{className:"drp-divider"}),(0,Ns.jsx)("button",{className:"drp-preset-option ".concat("custom"===c?"active":""),onClick:()=>v("custom"),children:"Custom Range"})]}),"custom"===c&&(0,Ns.jsxs)("div",{className:"drp-custom-section",children:[(0,Ns.jsxs)("div",{className:"drp-range-display",children:[(0,Ns.jsxs)("div",{className:"drp-input-group",children:[(0,Ns.jsx)("label",{children:"From"}),(0,Ns.jsx)("input",{type:"date",value:s,onChange:e=>i(e.target.value),className:"drp-input"})]}),(0,Ns.jsx)("div",{className:"drp-arrow",children:"\u2192"}),(0,Ns.jsxs)("div",{className:"drp-input-group",children:[(0,Ns.jsx)("label",{children:"To"}),(0,Ns.jsx)("input",{type:"date",value:o,onChange:e=>l(e.target.value),className:"drp-input"})]})]}),(0,Ns.jsxs)("div",{className:"drp-calendar-preview",children:[s&&(0,Ns.jsxs)("div",{className:"drp-month",children:[(0,Ns.jsx)("div",{className:"drp-month-name",children:new Date(s+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"short"})}),(0,Ns.jsx)("div",{className:"drp-selected-date",children:new Date(s+"T00:00:00").toLocaleDateString("en-US",{day:"numeric"})}),b(s)&&(0,Ns.jsx)("div",{className:"drp-data-indicator",title:"Data available",children:"\u25cf"})]}),(0,Ns.jsx)("div",{className:"drp-range-line"}),o&&(0,Ns.jsxs)("div",{className:"drp-month",children:[(0,Ns.jsx)("div",{className:"drp-month-name",children:new Date(o+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"short"})}),(0,Ns.jsx)("div",{className:"drp-selected-date",children:new Date(o+"T00:00:00").toLocaleDateString("en-US",{day:"numeric"})}),b(o)&&(0,Ns.jsx)("div",{className:"drp-data-indicator",title:"Data available",children:"\u25cf"})]})]}),(0,Ns.jsxs)("div",{className:"drp-footer",children:[(0,Ns.jsx)("button",{className:"drp-btn drp-btn-cancel",onClick:()=>h(!1),children:"Cancel"}),(0,Ns.jsx)("button",{className:"drp-btn drp-btn-apply",onClick:()=>{s&&o&&(t({from:s,to:o,preset:c}),h(!1))},disabled:!s||!o,children:"Apply"})]})]})]})]})};const Ps={NODE_ENV:"production",PUBLIC_URL:"/Glass-Defect-Detection-Prototype",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL;let Is=null,Ds=0;async function As(){const e=Date.now();if(null!==Is&&e-Ds<3e4)return Is;try{if(!Ps)return Is=!1,Ds=e,!1;const t=await fetch("".concat(Ps,"/health"),{signal:AbortSignal.timeout(4e3)});Is=t.ok}catch(t){Is=!1}return Ds=e,Is||console.warn("[defects] \u26a0\ufe0f Backend unavailable \u2013 using Supabase direct"),Is}function Ls(){Is=null,Ds=0}async function Us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"raspi";try{if(!ks)return null;const{data:t,error:n}=await ks.from("device_status").select("is_online, last_seen").eq("device_id",e).single();return n?null:t}catch(t){return null}}function Fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"raspi",t=arguments.length>1?arguments[1]:void 0;if(!ks)return()=>{};const n=ks.channel("device_status_changes").on("postgres_changes",{event:"*",schema:"public",table:"device_status",filter:"device_id=eq.".concat(e)},e=>{e.new&&t(e.new)}).subscribe();return()=>ks.removeChannel(n)}async function Ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:t=50,offset:n=0,dateFrom:r,dateTo:a}=e;if(await As())try{const e=new URLSearchParams({limit:t,offset:n});r&&e.set("dateFrom",r),a&&e.set("dateTo",a),console.log("[fetchDefects] \u2192 backend");const s=await fetch("".concat(Ps,"/defects?").concat(e),{signal:AbortSignal.timeout(8e3)});if(!s.ok)throw new Error("Backend responded ".concat(s.status));const i=await s.json();return console.log("[fetchDefects] \u2705 backend (".concat((i.data||[]).length," records)")),i}catch(c){console.warn("[fetchDefects] backend failed, falling back to Supabase:",c.message),Ls()}if(!ks)throw new Error("Neither backend nor Supabase is available");console.log("[fetchDefects] \u2192 Supabase direct");let s=ks.from("defects").select("*",{count:"exact"}).order("detected_at",{ascending:!1}).range(parseInt(n),parseInt(n)+parseInt(t)-1);r&&(s=s.gte("detected_at",r)),a&&(s=s.lte("detected_at",a));const{data:i,count:o,error:l}=await s;if(l)throw l;return{data:i||[],pagination:{total:o,limit:parseInt(t),offset:parseInt(n)},source:"supabase-direct"}}async function zs(e){const{start:t,end:n}=function(e){const t=new Date,n=t.toISOString();let r;if("today"===e){const e=new Date(t);e.setHours(0,0,0,0),r=e.toISOString()}else if("7days"===e){const e=new Date(t);e.setDate(e.getDate()-6),e.setHours(0,0,0,0),r=e.toISOString()}else if("30days"===e){const e=new Date(t);e.setDate(e.getDate()-29),e.setHours(0,0,0,0),r=e.toISOString()}else r=new Date(0).toISOString();return{start:r,end:n}}(e);return Bs(new Date(t),new Date(n))}async function Bs(e,t){if(await As())try{const n=new URLSearchParams({dateFrom:e.toISOString(),dateTo:t.toISOString(),limit:1e3,offset:0});console.log("[fetchDefectsByDateRange] \u2192 backend");const r=await fetch("".concat(Ps,"/defects?").concat(n),{signal:AbortSignal.timeout(8e3)});if(!r.ok)throw new Error("Backend responded ".concat(r.status));return(await r.json()).data||[]}catch(a){console.warn("[fetchDefectsByDateRange] backend failed, falling back to Supabase:",a.message),Ls()}if(!ks)throw new Error("Neither backend nor Supabase is available");console.log("[fetchDefectsByDateRange] \u2192 Supabase direct");const{data:n,error:r}=await ks.from("defects").select("*").gte("detected_at",e.toISOString()).lte("detected_at",t.toISOString()).order("detected_at",{ascending:!1}).limit(1e3);if(r)throw r;return n||[]}function Ws(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e}function Hs(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function qs(e){const t=new Date(e),n=new Date-t,r=Math.floor(n/1e3),a=Math.floor(r/60),s=Math.floor(a/60),i=Math.floor(s/24);return r<60?1===r?"1 second ago":"".concat(r," seconds ago"):a<60?1===a?"1 minute ago":"".concat(a," minutes ago"):s<24?1===s?"1 hour ago":"".concat(s," hours ago"):1===i?"1 day ago":"".concat(i," days ago")}const Vs=function(){const e=ke(),t=xe(),[n,a]=(0,r.useState)("today"),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)((new Date).toISOString().split("T")[0]);(0,r.useEffect)(()=>{"true"!==sessionStorage.getItem("loggedIn")&&e("/")},[e]);const[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),[x,S]=(0,r.useState)(null),[_,k]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=!1;k(!0),Us("raspi").then(t=>{e||(S(t),k(!1))});const t=Fs("raspi",t=>{e||S(t)});return()=>{e=!0,t()}},[]),(0,r.useEffect)(()=>{(async()=>{try{const e=(await Ms({limit:1,offset:0,dateFrom:new Date(0).toISOString(),dateTo:(new Date).toISOString()})).data||[];e.length>0&&w(e[0].detected_at)}catch(e){console.error("[Dashboard] Error loading last detection:",e)}})()},[]),(0,r.useEffect)(()=>{let e=!1;return async function(){y(!0),h(null),p(null);try{let t;if("custom-range"===n){if(!o||!c)return g([]),void y(!1);t=await Bs(new Date(o),new Date(c))}else t=await zs(n);e||g(t)}catch(fi){console.error("[Dashboard] Failed to load defects:",fi),e||g([])}finally{e||y(!1)}}(),()=>{e=!0}},[n,o,c]),(0,r.useEffect)(()=>{(async()=>{y(!0),h(null),p(null);try{let e;if("custom-range"===n){if(!o||!c)return g([]),void y(!1);e=await Bs(new Date(o),new Date(c))}else e=await zs(n);g(e)}catch(fi){console.error("[Dashboard] Failed to load defects:",fi),g([])}finally{y(!1)}})()},[t.pathname]);const j=function(e){const t={};return e.forEach(e=>{const n=new Date(e.detected_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});t[n]||(t[n]=[]),t[n].push(e)}),Object.entries(t).sort((e,t)=>new Date(t[0])-new Date(e[0]))}(m);return(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:async function(){try{await Es()}catch(t){console.error("Logout error:",t)}sessionStorage.removeItem("loggedIn"),sessionStorage.removeItem("role"),sessionStorage.removeItem("userId"),"true"===localStorage.getItem("rememberMe")||localStorage.removeItem("email"),e("/")},mainItems:[{key:"dashboard",label:"Dashboard",onClick:()=>e("/dashboard")},{key:"detection",label:"Detection",onClick:()=>e("/detection")},{key:"detection-history",label:"Detection History",onClick:()=>e("/detection-history")}],bottomItems:[{key:"how-to-use",label:"How to Use",onClick:()=>e("/how-to-use")}],activeKey:"dashboard",isOpen:s,onToggle:()=>i(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>i(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"Dashboard"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Overview and analytics"})]})]}),(0,Ns.jsxs)("div",{className:"machine-content-area",children:[(0,Ns.jsxs)("div",{className:"dashboard-box-wrapper dashboard-box-wrapper-full",children:[(0,Ns.jsxs)("div",{className:"dashboard-title-row",style:{gap:"12px",alignItems:"center"},children:[(0,Ns.jsx)("h2",{className:"dashboard-box-title",children:"Statistics"}),(0,Ns.jsx)("div",{style:{minWidth:"300px"},children:(0,Ns.jsx)(Os,{onApply:e=>{a("custom-range"),l(e.from),u(e.to)},initialFrom:o,initialTo:c})})]}),(0,Ns.jsxs)("div",{className:"dashboard-stats-row",children:[(0,Ns.jsxs)("div",{className:"dashboard-box dashboard-stats-box",children:[(0,Ns.jsxs)("div",{className:"dashboard-stat-card",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Total Defects Detected"}),(0,Ns.jsx)("span",{className:"dashboard-stat-value",children:v?"\u2026":m.length})]}),(0,Ns.jsxs)("div",{className:"dashboard-stat-card",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Average Confidence Score"}),(0,Ns.jsx)("span",{className:"dashboard-stat-value",children:v?"\u2026":m.length>0?"".concat((m.reduce((e,t)=>e+(t.confidence||0),0)/m.length*100).toFixed(1),"%"):"0%"})]}),(0,Ns.jsxs)("div",{className:"dashboard-stat-card",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Last Detection"}),(0,Ns.jsx)("span",{className:"dashboard-stat-value",children:b?qs(b):"--"})]})]}),(0,Ns.jsxs)("div",{className:"dashboard-box dashboard-status-box",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Raspberry Pi Status"}),_?(0,Ns.jsx)("span",{className:"dashboard-stat-value dashboard-stat-status",style:{color:"#94a3b8"},children:"\u2026"}):(()=>{const e=!0===(null===x||void 0===x?void 0:x.is_online),t=null!==x&&void 0!==x&&x.last_seen?new Date(x.last_seen).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):null;return(0,Ns.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[(0,Ns.jsxs)("span",{className:"dashboard-stat-value dashboard-stat-status",style:{color:e?"#22c55e":"#ef4444",display:"flex",alignItems:"center",gap:"6px"},children:[(0,Ns.jsx)("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:e?"#22c55e":"#ef4444",flexShrink:0}}),e?"Online":x?"Offline":"Unknown"]}),t&&(0,Ns.jsxs)("span",{style:{fontSize:11,color:"#94a3b8",marginTop:2},children:["Last seen: ",t]})]})})()]})]})]}),(0,Ns.jsxs)("div",{className:"machine-content-wrapper",children:[(0,Ns.jsxs)("div",{className:"dashboard-box-wrapper",children:[(0,Ns.jsxs)("div",{className:"dashboard-sessions-header",children:[(0,Ns.jsx)("h2",{className:"dashboard-box-title",children:"Detection History"}),(0,Ns.jsx)("button",{className:"dashboard-sessions-nav-btn",onClick:()=>e("/detection-history"),title:"View all history",children:"\u203a"})]}),(0,Ns.jsx)("div",{className:"dashboard-box dashboard-sessions-box",children:v?(0,Ns.jsx)("div",{className:"dh-loading",children:"Loading\u2026"}):(0,Ns.jsxs)("div",{className:"dh-miller-container",children:[(0,Ns.jsxs)("div",{className:"dh-panel dh-panel-always",children:[(0,Ns.jsxs)("div",{className:"dh-panel-header",children:[(0,Ns.jsx)("span",{className:"dh-panel-title"}),(0,Ns.jsx)("span",{className:"dh-panel-count",children:j.length})]}),(0,Ns.jsx)("div",{className:"dh-panel-list",children:0===j.length?(0,Ns.jsx)("div",{className:"dh-empty",children:"No history yet"}):j.map(e=>{let[t,n]=e;return(0,Ns.jsxs)("div",{className:"dh-row".concat(d&&d[0]===t?" dh-row-selected":""),onClick:()=>{h([t,n]),p(null)},children:[(0,Ns.jsxs)("div",{className:"dh-row-main",children:[(0,Ns.jsx)("span",{className:"dh-row-title",children:t}),(0,Ns.jsxs)("span",{className:"dh-row-badge",children:[n.length," defect",1!==n.length?"s":""]})]}),(0,Ns.jsx)("svg",{className:"dh-row-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},t)})})]}),(0,Ns.jsx)("div",{className:"dh-panel dh-panel-slide".concat(d?" dh-panel-visible":""),children:d&&(0,Ns.jsxs)(Ns.Fragment,{children:[(0,Ns.jsxs)("div",{className:"dh-panel-header",children:[(0,Ns.jsx)("span",{className:"dh-panel-title",children:d[0]}),(0,Ns.jsx)("span",{className:"dh-panel-count",children:d[1].length})]}),(0,Ns.jsx)("div",{className:"dh-panel-list",children:d[1].map((e,t)=>(0,Ns.jsxs)("div",{className:"dh-row".concat(f&&f.id===e.id?" dh-row-selected":""),onClick:()=>p(e),children:[(0,Ns.jsxs)("div",{className:"dh-row-main",children:[(0,Ns.jsx)("span",{className:"dh-defect-type dh-defect-".concat((e.defect_type||"").toLowerCase()),children:Ws(e.defect_type)}),(0,Ns.jsx)("span",{className:"dh-row-time",children:Hs(e.detected_at)})]}),(0,Ns.jsx)("svg",{className:"dh-row-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},e.id||t))})]})}),(0,Ns.jsx)("div",{className:"dh-panel dh-panel-slide".concat(f?" dh-panel-visible":""),children:f&&(0,Ns.jsxs)(Ns.Fragment,{children:[(0,Ns.jsx)("div",{className:"dh-panel-header",children:(0,Ns.jsx)("span",{className:"dh-panel-title",children:"Details"})}),(0,Ns.jsx)("div",{className:"dh-detail-card-wrapper",children:(0,Ns.jsxs)("div",{className:"dh-detail-card",children:[null!=f.tag_number&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Tag #"}),(0,Ns.jsxs)("span",{className:"dh-detail-value",style:{fontWeight:800,color:"#0f2942"},children:["#",f.tag_number]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Type"}),(0,Ns.jsx)("span",{className:"dh-defect-type dh-defect-".concat((f.defect_type||"").toLowerCase()),children:Ws(f.defect_type)})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Time Detected"}),(0,Ns.jsx)("span",{className:"dh-detail-value",children:Hs(f.detected_at)})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Date"}),(0,Ns.jsx)("span",{className:"dh-detail-value",children:(E=f.detected_at,new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),null!=f.confidence&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Confidence"}),(0,Ns.jsxs)("span",{className:"dh-detail-value",children:[(100*f.confidence).toFixed(1),"%"]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Tagged Image"}),f.tagged_image_url?(0,Ns.jsx)("a",{href:f.tagged_image_url,target:"_blank",rel:"noreferrer",className:"dh-detail-value",style:{color:"#2563eb"},children:"View tagged \u2197"}):(0,Ns.jsx)("span",{className:"dh-detail-value",style:{color:"#d1d5db"},children:"Pending\u2026"})]}),f.image_url&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Original"}),(0,Ns.jsx)("a",{href:f.image_url,target:"_blank",rel:"noreferrer",className:"dh-detail-value",style:{color:"#2563eb"},children:"View original \u2197"})]})]})})]})})]})})]}),(0,Ns.jsxs)("div",{className:"dashboard-box-wrapper",children:[(0,Ns.jsx)("h2",{className:"dashboard-box-title",children:"Amount of Defects per Type"}),(0,Ns.jsx)("div",{className:"dashboard-box dashboard-chart-box",children:(0,Ns.jsxs)("div",{className:"dashboard-bar-chart",children:[(0,Ns.jsx)("div",{className:"chart-y-axis-label",children:"Defect Type"}),(0,Ns.jsxs)("div",{className:"chart-body",children:[(0,Ns.jsxs)("div",{className:"chart-y-axis",children:[(0,Ns.jsx)("span",{className:"chart-y-tick",children:"Scratch"}),(0,Ns.jsx)("span",{className:"chart-y-tick",children:"Bubble"}),(0,Ns.jsx)("span",{className:"chart-y-tick",children:"Cracks"})]}),(0,Ns.jsxs)("div",{className:"chart-area",children:[(0,Ns.jsxs)("div",{className:"chart-grid",children:[(0,Ns.jsx)("div",{className:"chart-gridline"}),(0,Ns.jsx)("div",{className:"chart-gridline"}),(0,Ns.jsx)("div",{className:"chart-gridline"}),(0,Ns.jsx)("div",{className:"chart-gridline"}),(0,Ns.jsx)("div",{className:"chart-gridline"})]}),(0,Ns.jsx)("div",{className:"chart-bars",children:(()=>{const e={scratch:0,bubble:0,crack:0};m.forEach(t=>{const n=(t.defect_type||"").toLowerCase();void 0!==e[n]&&e[n]++});const t=Math.max(...Object.values(e),0),n=[5,10,20,50,100,200,500,1e3].find(e=>e>=t)||100*Math.ceil(t/100),r=[0,n/4,n/2,3*n/4,n];return(0,Ns.jsxs)(Ns.Fragment,{children:[[{label:"Scratch",key:"scratch"},{label:"Bubble",key:"bubble"},{label:"Cracks",key:"crack"}].map(t=>{let{label:r,key:a}=t;return(0,Ns.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,Ns.jsx)("div",{className:"dashboard-bar-fill",style:{width:"".concat(e[a]/n*100,"%")}}),(0,Ns.jsx)("span",{className:"chart-bar-value",children:e[a]})]},a)}),(0,Ns.jsx)("div",{className:"chart-x-axis",children:r.map((e,t)=>(0,Ns.jsx)("span",{children:Number.isInteger(e)?e:Math.round(e)},t))})]})})()})]})]}),(0,Ns.jsx)("div",{className:"chart-x-axis-label",children:"Count"})]})})]})]})]})]})]});var E};function Ks(e){const t=new Date(e),n=new Date-t,r=Math.floor(n/1e3),a=Math.floor(r/60),s=Math.floor(a/60),i=Math.floor(s/24);return r<60?1===r?"1 second ago":"".concat(r," seconds ago"):a<60?1===a?"1 minute ago":"".concat(a," minutes ago"):s<24?1===s?"1 hour ago":"".concat(s," hours ago"):1===i?"1 day ago":"".concat(i," days ago")}function Gs(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const Js=function(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(0),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)("today"),[v,y]=(0,r.useState)(""),[b,w]=(0,r.useState)((new Date).toISOString().split("T")[0]),x=ke(),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{"true"!==sessionStorage.getItem("loggedIn")&&x("/")},[x]);const _=(0,r.useCallback)(async()=>{try{let e,n;"custom-range"===m?(e=v?"".concat(v,"T00:00:00.000Z"):new Date(0).toISOString(),n=b?"".concat(b,"T23:59:59.999Z"):(new Date).toISOString()):({start:e,end:n}=(e=>{const t=new Date,n=t.toISOString();let r;if("today"===e){const e=new Date(t);e.setHours(0,0,0,0),r=e.toISOString()}else if("7days"===e){const e=new Date(t);e.setDate(e.getDate()-6),e.setHours(0,0,0,0),r=e.toISOString()}else if("30days"===e){const e=new Date(t);e.setDate(e.getDate()-29),e.setHours(0,0,0,0),r=e.toISOString()}else r=new Date(0).toISOString();return{start:r,end:n}})(m));const r=(await Ms({limit:999999,offset:0,dateFrom:e,dateTo:n})).data||[],a=r.map(e=>{return{id:e.id,time:Ks(e.detected_at),type:(t=e.defect_type,t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t),imageUrl:e.tagged_image_url||e.image_url,originalImageUrl:e.image_url,tagNumber:e.tag_number,detected_at:e.detected_at,image_path:e.image_path,notes:e.notes,supabaseData:e};var t}).sort((e,t)=>new Date(t.detected_at)-new Date(e.detected_at));t(a),i(!1)}catch(e){console.error("[Detection] Error loading defects:",e),i(!1)}},[m,v,b]);function k(){l(!1),h(null)}function j(){u(t=>{if(t<e.length-1){const n=t+1;return e[n]&&h(e[n].id),n}return t})}function E(){u(t=>{if(t>0){const n=t-1;return e[n]&&h(e[n].id),n}return t})}return(0,r.useEffect)(()=>{i(!0),_()},[_]),(0,r.useEffect)(()=>{(async()=>{try{const e=(await Ms({limit:1,offset:0,dateFrom:new Date(0).toISOString(),dateTo:(new Date).toISOString()})).data||[];e.length>0&&a(e[0].detected_at)}catch(e){console.error("[Detection] Error loading last detection:",e)}})()},[]),(0,r.useEffect)(()=>{if(o&&d){const t=e.findIndex(e=>e.id===d);-1!==t&&t!==c?u(t):-1===t&&k()}},[e,o,d,c]),(0,r.useEffect)(()=>{S.current&&(S.current.scrollTop=0)},[e]),(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:async function(){try{await Es()}catch(e){console.error("Logout error:",e)}sessionStorage.removeItem("loggedIn"),sessionStorage.removeItem("role"),sessionStorage.removeItem("userId"),"true"===localStorage.getItem("rememberMe")||localStorage.removeItem("email"),x("/")},mainItems:[{key:"dashboard",label:"Dashboard",onClick:()=>x("/dashboard")},{key:"detection",label:"Detection",onClick:()=>x("/detection")},{key:"detection-history",label:"Detection History",onClick:()=>x("/detection-history")}],bottomItems:[{key:"how-to-use",label:"How to Use",onClick:()=>x("/how-to-use")}],activeKey:"detection",isOpen:f,onToggle:()=>p(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>p(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"Glass Defect Detector"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Glass Detection Preview"})]})]}),(0,Ns.jsx)("div",{className:"machine-content-area",children:(0,Ns.jsxs)("div",{className:"machine-content-wrapper",children:[(0,Ns.jsxs)("div",{className:"machine-image-preview-panel",children:[(0,Ns.jsx)("div",{className:"image-preview-header",children:(0,Ns.jsx)("h2",{className:"machine-section-title",children:"Defect Preview"})}),(0,Ns.jsx)("div",{className:"machine-image-preview-container",children:s?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"Loading..."})}):0===e.length?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"No defects detected yet"})}):e[0]&&e[0].imageUrl?(0,Ns.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,Ns.jsx)("img",{src:e[0].imageUrl,alt:"Most recent defect",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"4px"}}),null!=e[0].tagNumber&&(0,Ns.jsxs)("div",{style:{position:"absolute",top:"12px",left:"12px",background:"#0f2942",color:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"700",fontFamily:"Poppins, sans-serif",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["#",e[0].tagNumber]})]}):(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"No image available"})})})]}),(0,Ns.jsxs)("div",{className:"machine-defects-panel",children:[(0,Ns.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,Ns.jsxs)("div",{children:[(0,Ns.jsxs)("h2",{className:"machine-section-title",style:{marginBottom:"0"},children:["Detected Defects (",e.length,")"]}),n&&(0,Ns.jsxs)("p",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"4px",fontFamily:"Inter, sans-serif"},children:["Last detection: ",Ks(n)]})]}),(0,Ns.jsx)("div",{style:{minWidth:"300px"},children:(0,Ns.jsx)(Os,{onApply:e=>{g("custom-range"),y(e.from),w(e.to)},initialFrom:v,initialTo:b})})]}),(0,Ns.jsx)("div",{className:"machine-defects-list",ref:S,children:(0,Ns.jsx)("div",{children:s?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"Loading..."})}):0===e.length?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"No defects detected yet"})}):e.map((t,n)=>{var r,a;return(0,Ns.jsxs)("div",{className:"machine-defect-item det-defect-row".concat(0===n?" det-defect-row--latest":""),onClick:()=>function(t){const n=e[t];n&&n.id&&(h(n.id),u(t),l(!0))}(n),children:[(0,Ns.jsx)("div",{className:"det-defect-index",children:null!==(r=t.tagNumber)&&void 0!==r?r:e.length-n}),(0,Ns.jsxs)("div",{className:"det-defect-body",children:[(0,Ns.jsx)("span",{className:"det-defect-type-label",children:t.type}),(0,Ns.jsx)("span",{className:"det-defect-time-label",children:t.time})]}),null!=(null===(a=t.supabaseData)||void 0===a?void 0:a.confidence)&&(0,Ns.jsxs)("span",{className:"det-defect-confidence",children:[(100*t.supabaseData.confidence).toFixed(0),"%"]}),(0,Ns.jsx)("svg",{className:"det-defect-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},t.id||n)})})})]})]})})]}),o&&c>=0&&e[c]&&((t,n)=>{const r=e[c],a=null!==(t=null===(n=r.supabaseData)||void 0===n?void 0:n.confidence)&&void 0!==t?t:r.confidence;return(0,Ns.jsx)("div",{className:"modal",onClick:e=>{e.target===e.currentTarget&&k()},children:(0,Ns.jsxs)("div",{className:"det-modal-content",children:[(0,Ns.jsxs)("div",{className:"det-modal-header",children:[(0,Ns.jsxs)("div",{className:"det-modal-header-left",children:[(0,Ns.jsxs)("span",{className:"det-modal-index",children:[c+1," / ",e.length]}),(0,Ns.jsx)("h2",{className:"det-modal-title",children:r.type})]}),(0,Ns.jsx)("button",{onClick:k,className:"det-modal-close",children:(0,Ns.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"18",height:"18",children:[(0,Ns.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Ns.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Ns.jsx)("div",{className:"det-modal-image-area",children:r.imageUrl?(0,Ns.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,Ns.jsx)("img",{src:r.imageUrl,alt:"Defect",className:"det-modal-image"}),null!=r.tagNumber&&(0,Ns.jsxs)("div",{style:{position:"absolute",top:"16px",left:"16px",background:"#0f2942",color:"white",padding:"8px 14px",borderRadius:"8px",fontSize:"16px",fontWeight:"700",fontFamily:"Poppins, sans-serif",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:["#",r.tagNumber]})]}):(0,Ns.jsxs)("div",{className:"det-modal-no-image",children:[(0,Ns.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"40",height:"40",children:[(0,Ns.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,Ns.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,Ns.jsx)("polyline",{points:"21 15 16 10 5 21"})]}),(0,Ns.jsx)("span",{children:"No image available"})]})}),(0,Ns.jsxs)("div",{className:"det-modal-details",children:[(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Type"}),(0,Ns.jsx)("span",{className:"det-modal-detail-value",children:r.type})]}),(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Time Detected"}),(0,Ns.jsx)("span",{className:"det-modal-detail-value",children:(s=r.detected_at,new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))})]}),(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Date"}),(0,Ns.jsx)("span",{className:"det-modal-detail-value",children:Gs(r.detected_at)})]}),null!=r.tagNumber&&(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Tag #"}),(0,Ns.jsxs)("span",{className:"det-modal-detail-value",style:{fontWeight:800,color:"#0f2942"},children:["#",r.tagNumber]})]}),null!=a&&(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Confidence"}),(0,Ns.jsxs)("span",{className:"det-modal-detail-value",children:[(100*a).toFixed(1),"%"]})]}),(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Tagged Image"}),r.imageUrl?(0,Ns.jsx)("a",{href:r.imageUrl,target:"_blank",rel:"noreferrer",className:"det-modal-detail-link",children:"View tagged \u2197"}):(0,Ns.jsx)("span",{className:"det-modal-detail-empty",children:"\u2014"})]}),r.originalImageUrl&&r.originalImageUrl!==r.imageUrl&&(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Original"}),(0,Ns.jsx)("a",{href:r.originalImageUrl,target:"_blank",rel:"noreferrer",className:"det-modal-detail-link",children:"View original \u2197"})]})]}),(0,Ns.jsxs)("div",{className:"det-modal-footer",children:[(0,Ns.jsxs)("button",{onClick:E,disabled:0===c,className:"det-modal-nav-btn",children:[(0,Ns.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"16",height:"16",children:(0,Ns.jsx)("polyline",{points:"15 18 9 12 15 6"})}),"Prev"]}),(0,Ns.jsxs)("span",{className:"det-modal-counter",children:[c+1," of ",e.length]}),(0,Ns.jsxs)("button",{onClick:j,disabled:c===e.length-1,className:"det-modal-nav-btn",children:["Next",(0,Ns.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"16",height:"16",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})]})]})});var s})()]})};function $s(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e}function Qs(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Ys(e){const t={};return e.forEach(e=>{const n=new Date(e.detected_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});t[n]||(t[n]=[]),t[n].push(e)}),Object.entries(t).sort((e,t)=>new Date(t[0])-new Date(e[0]))}const Xs=function(){const e=ke(),t=xe(),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)("30days"),[f,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{"true"!==sessionStorage.getItem("loggedIn")&&e("/")},[e]);const[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)((new Date).toISOString().split("T")[0]);return(0,r.useEffect)(()=>{let e=!1;return async function(){try{let t;if(u(!0),i(null),l(null),"custom-range"===d){if(!m||!v)return a([]),void u(!1);t=await Bs(new Date(m),new Date(v))}else t=await zs(d);e||a(Ys(t))}catch(fi){console.error("[DetectionHistory] Error loading defects:",fi),e||a([])}finally{e||u(!1)}}(),()=>{e=!0}},[d,m,v]),(0,r.useEffect)(()=>{(async()=>{try{u(!0),i(null),l(null);const e=await zs(d);a(Ys(e))}catch(fi){console.error("[DetectionHistory] Error loading defects:",fi),a([])}finally{u(!1)}})()},[t.pathname]),(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:async function(){try{await Es()}catch(t){console.error("Logout error:",t)}sessionStorage.removeItem("loggedIn"),sessionStorage.removeItem("role"),sessionStorage.removeItem("userId"),"true"===localStorage.getItem("rememberMe")||localStorage.removeItem("email"),e("/")},mainItems:[{key:"dashboard",label:"Dashboard",onClick:()=>e("/dashboard")},{key:"detection",label:"Detection",onClick:()=>e("/detection")},{key:"detection-history",label:"Detection History",onClick:()=>e("/detection-history")}],bottomItems:[{key:"how-to-use",label:"How to Use",onClick:()=>e("/how-to-use")}],activeKey:"detection-history",isOpen:f,onToggle:()=>p(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>p(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"Detection History"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"View past inspection results"})]})]}),(0,Ns.jsxs)("div",{className:"dh-page-content-area",children:[(0,Ns.jsxs)("div",{className:"dashboard-title-row",style:{padding:"0 0 8px 0",gap:"12px",alignItems:"center"},children:[(0,Ns.jsx)("h2",{className:"dashboard-box-title",children:"Sessions"}),(0,Ns.jsx)("div",{style:{minWidth:"300px"},children:(0,Ns.jsx)(Os,{onApply:e=>{h("custom-range"),g(e.from),y(e.to)},initialFrom:m,initialTo:v})})]}),c&&(0,Ns.jsx)("div",{className:"dh-loading",children:"Loading history\u2026"}),!c&&(0,Ns.jsxs)("div",{className:"dh-miller-container dh-miller-page",children:[(0,Ns.jsxs)("div",{className:"dh-panel dh-panel-always",children:[(0,Ns.jsxs)("div",{className:"dh-panel-header",children:[(0,Ns.jsx)("span",{className:"dh-panel-title",children:"History"}),(0,Ns.jsx)("span",{className:"dh-panel-count",children:n.length})]}),(0,Ns.jsx)("div",{className:"dh-panel-list",children:0===n.length?(0,Ns.jsx)("div",{className:"dh-empty",children:"No history found"}):n.map(e=>{let[t,n]=e;return(0,Ns.jsxs)("div",{className:"dh-row".concat(s&&s[0]===t?" dh-row-selected":""),onClick:()=>(i([t,n]),void l(null)),children:[(0,Ns.jsxs)("div",{className:"dh-row-main",children:[(0,Ns.jsx)("span",{className:"dh-row-title",children:t}),(0,Ns.jsxs)("span",{className:"dh-row-badge",children:[n.length," defect",1!==n.length?"s":""]})]}),(0,Ns.jsx)("svg",{className:"dh-row-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},t)})})]}),(0,Ns.jsx)("div",{className:"dh-panel dh-panel-slide".concat(s?" dh-panel-visible":""),children:s&&(0,Ns.jsxs)(Ns.Fragment,{children:[(0,Ns.jsxs)("div",{className:"dh-panel-header",children:[(0,Ns.jsx)("span",{className:"dh-panel-title",children:s[0]}),(0,Ns.jsx)("span",{className:"dh-panel-count",children:s[1].length})]}),(0,Ns.jsx)("div",{className:"dh-panel-list",children:s[1].map((e,t)=>(0,Ns.jsxs)("div",{className:"dh-row".concat(o&&o.id===e.id?" dh-row-selected":""),onClick:()=>{l(e)},children:[(0,Ns.jsxs)("div",{className:"dh-row-main",children:[(0,Ns.jsx)("span",{className:"dh-defect-type dh-defect-".concat((e.defect_type||"").toLowerCase()),children:$s(e.defect_type)}),(0,Ns.jsx)("span",{className:"dh-row-time",children:Qs(e.detected_at)})]}),null!=e.tag_number&&(0,Ns.jsxs)("span",{style:{background:"#0f2942",color:"white",borderRadius:4,fontSize:10,fontWeight:700,padding:"2px 6px",fontFamily:"Inter",flexShrink:0,marginRight:4},children:["#",e.tag_number]}),(0,Ns.jsx)("svg",{className:"dh-row-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},e.id||t))})]})}),(0,Ns.jsx)("div",{className:"dh-panel dh-panel-slide".concat(o?" dh-panel-visible":""),children:o&&(0,Ns.jsxs)(Ns.Fragment,{children:[(0,Ns.jsx)("div",{className:"dh-panel-header",children:(0,Ns.jsx)("span",{className:"dh-panel-title",children:"Details"})}),(0,Ns.jsxs)("div",{className:"dh-detail-card-wrapper",children:[(o.tagged_image_url||o.image_url)&&(0,Ns.jsxs)("div",{style:{marginBottom:12,borderRadius:8,overflow:"hidden",border:"1px solid #e5e7eb",position:"relative"},children:[(0,Ns.jsx)("img",{src:o.tagged_image_url||o.image_url,alt:"Defect",style:{width:"100%",display:"block",objectFit:"contain",background:"#000"}}),null!=o.tag_number&&(0,Ns.jsxs)("div",{style:{position:"absolute",top:"12px",left:"12px",background:"#0f2942",color:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"700",fontFamily:"Poppins, sans-serif",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["#",o.tag_number]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-card",children:[null!=o.tag_number&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Tag #"}),(0,Ns.jsxs)("span",{className:"dh-detail-value",style:{fontWeight:800,color:"#0f2942"},children:["#",o.tag_number]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Type"}),(0,Ns.jsx)("span",{className:"dh-defect-type dh-defect-".concat((o.defect_type||"").toLowerCase()),children:$s(o.defect_type)})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Time Detected"}),(0,Ns.jsx)("span",{className:"dh-detail-value",children:Qs(o.detected_at)})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Date"}),(0,Ns.jsx)("span",{className:"dh-detail-value",children:(b=o.detected_at,new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),null!=o.confidence&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Confidence"}),(0,Ns.jsxs)("span",{className:"dh-detail-value",children:[(100*o.confidence).toFixed(1),"%"]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Tagged Image"}),o.tagged_image_url?(0,Ns.jsx)("a",{href:o.tagged_image_url,target:"_blank",rel:"noreferrer",className:"dh-detail-value",style:{color:"#2563eb"},children:"View tagged \u2197"}):(0,Ns.jsx)("span",{className:"dh-detail-value",style:{color:"#d1d5db"},children:"Pending\u2026"})]}),o.image_url&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Original"}),(0,Ns.jsx)("a",{href:o.image_url,target:"_blank",rel:"noreferrer",className:"dh-detail-value",style:{color:"#2563eb"},children:"View original \u2197"})]})]})]})]})})]})]})]})]});var b};const Zs=function(){const e=ke(),[t,n]=(0,r.useState)(!1);return(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:async function(){try{await Es()}catch(t){console.error("Logout error:",t)}sessionStorage.removeItem("loggedIn"),sessionStorage.removeItem("role"),sessionStorage.removeItem("userId"),"true"===localStorage.getItem("rememberMe")||localStorage.removeItem("email"),e("/")},mainItems:[{key:"dashboard",label:"Dashboard",onClick:()=>e("/dashboard")},{key:"detection",label:"Detection",onClick:()=>e("/detection")},{key:"detection-history",label:"Detection History",onClick:()=>e("/detection-history")},{key:"help",label:"Help",onClick:()=>e("/help")}],bottomItems:[],activeKey:"help",isOpen:t,onToggle:()=>n(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>n(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"Help"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Documentation & guidance"})]})]}),(0,Ns.jsxs)("div",{style:{flex:1,padding:"20px",overflowY:"auto"},children:[(0,Ns.jsx)("h1",{children:"Help & Documentation"}),(0,Ns.jsxs)("section",{style:{marginTop:"20px"},children:[(0,Ns.jsx)("h2",{children:"Getting Started"}),(0,Ns.jsx)("p",{children:"Welcome to the Glass Defect Detection System. This application allows you to monitor and track glass defects in real-time using a Jetson-based inference engine."})]}),(0,Ns.jsxs)("section",{style:{marginTop:"20px"},children:[(0,Ns.jsx)("h2",{children:"Features"}),(0,Ns.jsxs)("ul",{children:[(0,Ns.jsxs)("li",{children:[(0,Ns.jsx)("strong",{children:"Live Detection:"})," Real-time glass defect detection with live video feed"]}),(0,Ns.jsxs)("li",{children:[(0,Ns.jsx)("strong",{children:"Defect Tracking:"})," Detailed information about detected defects including location and type"]}),(0,Ns.jsxs)("li",{children:[(0,Ns.jsx)("strong",{children:"Session Management:"})," Track defects during detection sessions"]}),(0,Ns.jsxs)("li",{children:[(0,Ns.jsx)("strong",{children:"Role-Based Access:"})," Different permissions for Admin and Employee roles"]})]})]}),(0,Ns.jsxs)("section",{style:{marginTop:"20px"},children:[(0,Ns.jsx)("h2",{children:"Dashboard Guide"}),(0,Ns.jsx)("h3",{children:"Start Detection"}),(0,Ns.jsx)("p",{children:'Click the "Start Detection" button to begin monitoring for glass defects. The system will connect to the Jetson device and start streaming video.'}),(0,Ns.jsx)("h3",{children:"Pause/Resume"}),(0,Ns.jsx)("p",{children:"Use the Pause button to temporarily halt defect detection without stopping the video stream. Click Resume to continue detecting defects."}),(0,Ns.jsx)("h3",{children:"Defect List"}),(0,Ns.jsxs)("p",{children:["The defect list shows all detected defects in the current session with:",(0,Ns.jsxs)("ul",{children:[(0,Ns.jsx)("li",{children:"Defect type and confidence score"}),(0,Ns.jsx)("li",{children:"Bounding box coordinates"}),(0,Ns.jsx)("li",{children:"Timestamp of detection"})]})]}),(0,Ns.jsx)("h3",{children:"Export Data"}),(0,Ns.jsx)("p",{children:"Export options (CSV import/export) were removed from the dashboard. Use the Supabase dashboard or API to export defect data if needed."})]}),(0,Ns.jsxs)("section",{style:{marginTop:"20px"},children:[(0,Ns.jsx)("h2",{children:"Admin Features"}),(0,Ns.jsx)("p",{children:"Admins have access to user management features including:"}),(0,Ns.jsxs)("ul",{children:[(0,Ns.jsx)("li",{children:"View all users and their roles"}),(0,Ns.jsx)("li",{children:"Manage user passwords"}),(0,Ns.jsx)("li",{children:"Control system settings"})]})]}),(0,Ns.jsxs)("section",{style:{marginTop:"20px"},children:[(0,Ns.jsx)("h2",{children:"Troubleshooting"}),(0,Ns.jsx)("h3",{children:"Cannot Connect to Device"}),(0,Ns.jsx)("p",{children:"Ensure the Jetson device is powered on and connected to the network. Verify the backend server is running on port 5000."}),(0,Ns.jsx)("h3",{children:"No Video Feed"}),(0,Ns.jsx)("p",{children:"Check that the camera is properly connected to the Jetson device. Verify camera permissions are enabled."}),(0,Ns.jsx)("h3",{children:"Authentication Issues"}),(0,Ns.jsx)("p",{children:"Clear your browser cache and try logging in again. Ensure you are using the correct email and password."})]}),(0,Ns.jsxs)("section",{style:{marginTop:"20px"},children:[(0,Ns.jsx)("h2",{children:"Contact Support"}),(0,Ns.jsx)("p",{children:"For additional help or to report issues, please contact the system administrator."})]}),(0,Ns.jsx)("div",{style:{marginTop:"40px",padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:(0,Ns.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"Glass Defect Detection System v1.0 | Powered by Supabase Authentication"})})]})]})]})};const ei=function(){const e=ke(),[t,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(0),i=[{section:"Setup",steps:["Connect the prototype to a power source and ensure the power plug is properly inserted.","Press the power button to turn on the system.","Activate the lighting system and adjust the brightness to its maximum level using the PWM button.","Carefully place the glass onto the designated platform."]},{section:"Operation",steps:["Launch the web application.","Execute the appropriate command to initiate the inspection process.","View and navigate the results displayed on the LCD screen.","Verify that the inspection results have been properly recorded in the web application.","Carefully remove the glass from the platform."]},{section:"Shutdown",steps:["After completing the navigation and verification process, close the web application.","Shut down the system following the proper procedure.","Turn off the lighting system using the PWM button.","Power off the prototype by pressing the main power button.","Disconnect the prototype from the power source."]}].flatMap((e,t)=>e.steps.map((n,r)=>d(d({},e),{},{step:n,globalIdx:5*t+r+1,stepIdx:r})));return(0,r.useEffect)(()=>{"true"!==sessionStorage.getItem("loggedIn")&&e("/")},[e]),(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:async function(){try{await Es()}catch(t){console.error("Logout error:",t)}sessionStorage.removeItem("loggedIn"),sessionStorage.removeItem("role"),sessionStorage.removeItem("userId"),"true"===localStorage.getItem("rememberMe")||localStorage.removeItem("email"),e("/")},mainItems:[{key:"dashboard",label:"Dashboard",onClick:()=>e("/dashboard")},{key:"detection",label:"Detection",onClick:()=>e("/detection")},{key:"detection-history",label:"Detection History",onClick:()=>e("/detection-history")}],bottomItems:[{key:"how-to-use",label:"How to Use",onClick:()=>e("/how-to-use")}],activeKey:"how-to-use",isOpen:t,onToggle:()=>n(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>n(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"How to Use"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Step-by-step guide for glass defect detection"})]})]}),(0,Ns.jsxs)("div",{style:{flex:1,padding:"24px",overflowY:"auto",background:"#f8fafb",display:"flex",gap:"24px"},children:[(0,Ns.jsx)("div",{style:{width:"240px",flexShrink:0,display:"flex",flexDirection:"column",gap:"0",background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",height:"fit-content"},children:(0,Ns.jsx)("div",{style:{padding:"28px 20px",background:"linear-gradient(135deg, #0f2942 0%, #1a3a52 100%)",borderBottom:"3px solid #e5a445"},children:(0,Ns.jsx)("h3",{style:{margin:0,fontSize:"14px",fontWeight:"700",color:"#fff",lineHeight:"1.6",letterSpacing:"0.3px"},children:"INSTRUCTIONS FOR FLAT GLASS DEFECT DETECTION DEVICE"})})}),(0,Ns.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column"},children:[(0,Ns.jsx)("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",height:"100%"},children:(0,Ns.jsx)("div",{style:{padding:"24px",flex:1,overflowY:"auto"},children:(0,Ns.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:i.map((e,t)=>(0,Ns.jsxs)("div",{onClick:()=>s(t),style:{display:"flex",gap:"14px",padding:"12px 14px",background:a===t?"linear-gradient(135deg, #e5a445 0%, #d4941d 100%)":"#f9fafb",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid "+(a===t?"#d4941d":"#e5e7eb")},onMouseEnter:e=>{a!==t&&(e.currentTarget.style.background="#f0f3f7")},onMouseLeave:e=>{a!==t&&(e.currentTarget.style.background="#f9fafb")},children:[(0,Ns.jsx)("span",{style:{minWidth:"32px",width:"32px",height:"32px",borderRadius:"50%",background:"#0f2942",color:a===t?"#e5a445":"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"13px",flexShrink:0},children:e.globalIdx}),(0,Ns.jsx)("span",{style:{fontSize:"13px",color:a===t?"#fff":"#374151",lineHeight:"1.6",fontWeight:a===t?"600":"400"},children:e.step})]},t))})})}),(0,Ns.jsx)("div",{style:{marginTop:"20px",padding:"20px",background:"linear-gradient(135deg, rgba(229, 164, 69, 0.1) 0%, rgba(229, 164, 69, 0.05) 100%)",borderLeft:"4px solid #e5a445",borderRadius:"8px"},children:(0,Ns.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#6b7280",lineHeight:"1.6"},children:[(0,Ns.jsx)("strong",{style:{color:"#0f2942"},children:"Safety Tip:"})," Always ensure the device is properly powered off and cooled down between inspections. Handle glass with care and wear protective equipment when necessary."]})})]})]})]})]})};const ti=function(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)("manage"),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)({email:"",password:""}),[y,b]=(0,r.useState)(null),[w,x]=(0,r.useState)(!1),[S,_]=(0,r.useState)(null),[k,j]=(0,r.useState)(""),[E,N]=(0,r.useState)(""),T=(0,r.useCallback)(async()=>{try{a(!0);const{data:e,error:n}=await ks.from("profiles").select("id, email, role, created_at").eq("role","employee").order("created_at",{ascending:!1});if(n)throw n;t(e||[]),C()}catch(e){console.error("Error loading employees:",e),f("Failed to load employees: "+e.message)}finally{a(!1)}},[]),C=()=>{setTimeout(()=>{l(""),f("")},5e3)};return(0,r.useEffect)(()=>{T()},[T]),(0,Ns.jsxs)("div",{className:"admin-employee-management",children:[o&&(0,Ns.jsx)("div",{className:"admin-message admin-success",children:o}),h&&(0,Ns.jsx)("div",{className:"admin-message admin-error",children:h}),(0,Ns.jsxs)("div",{className:"admin-tabs",children:[(0,Ns.jsx)("button",{className:"admin-tab ".concat("manage"===s?"active":""),onClick:()=>i("manage"),children:"Manage Employees"}),(0,Ns.jsx)("button",{className:"admin-tab ".concat("clear"===s?"active":""),onClick:()=>i("clear"),children:"Database"})]}),(0,Ns.jsxs)("div",{className:"admin-content",children:["manage"===s&&(0,Ns.jsxs)("div",{className:"admin-section",children:[(0,Ns.jsxs)("div",{className:"admin-section-header",children:[(0,Ns.jsxs)("h3",{children:["Manage Employees (",e.length,")"]}),(0,Ns.jsx)("button",{className:"admin-btn-add".concat(c?" active":""),onClick:()=>u(e=>!e),children:c?"Cancel":"+ Add Employee"})]}),c&&(0,Ns.jsx)("form",{className:"admin-add-dropdown",onSubmit:async e=>{if(e.preventDefault(),g.email&&g.password)try{const{data:e,error:t}=await ks.auth.signUp({email:g.email,password:g.password});if(t)throw t;const{error:n}=await ks.from("profiles").insert([{id:e.user.id,email:g.email,role:"employee"}]);if(n)throw n;l("Employee ".concat(g.email," added successfully")),v({email:"",password:""}),u(!1),await T(),C()}catch(t){console.error("Error adding employee:",t),f("Error: "+t.message),C()}else f("Email and password are required")},children:(0,Ns.jsxs)("div",{className:"admin-add-dropdown-fields",children:[(0,Ns.jsx)("input",{type:"email",required:!0,value:g.email,onChange:e=>v(d(d({},g),{},{email:e.target.value})),placeholder:"Email",className:"admin-add-input"}),(0,Ns.jsx)("input",{type:"password",required:!0,value:g.password,onChange:e=>v(d(d({},g),{},{password:e.target.value})),placeholder:"Password (min 6 chars)",className:"admin-add-input"}),(0,Ns.jsx)("button",{type:"submit",className:"admin-btn-add-submit",children:"Add"})]})}),n?(0,Ns.jsx)("div",{className:"admin-loading",children:"Loading employees..."}):0===e.length?(0,Ns.jsx)("div",{className:"admin-empty",children:"No employees found. Add one to get started!"}):(0,Ns.jsxs)("div",{className:"admin-manage-layout",children:[(0,Ns.jsx)("div",{className:"admin-emp-sidebar",children:e.map((e,t)=>(0,Ns.jsxs)("button",{className:"admin-emp-item ".concat(p===e.id?"active":""),onClick:()=>{m(e.id),b(null)},children:[(0,Ns.jsx)("span",{className:"admin-emp-item-avatar",children:t+1}),(0,Ns.jsx)("span",{className:"admin-emp-item-email",children:e.email})]},e.id))}),(0,Ns.jsx)("div",{className:"admin-emp-detail",children:(()=>{const t=e.findIndex(t=>t.id===(p||e[0]&&e[0].id)),n=e.find(e=>e.id===p)||e[0];return n?(0,Ns.jsxs)(Ns.Fragment,{children:[(0,Ns.jsxs)("div",{className:"admin-detail-header",children:[(0,Ns.jsx)("div",{className:"admin-detail-avatar",children:(t>=0?t:0)+1}),(0,Ns.jsxs)("div",{className:"admin-detail-title",children:[(0,Ns.jsx)("h4",{children:n.email}),(0,Ns.jsx)("span",{className:"admin-role-badge",children:"Employee"})]})]}),(0,Ns.jsxs)("div",{className:"admin-detail-grid",children:[(0,Ns.jsxs)("div",{className:"admin-detail-card",children:[(0,Ns.jsx)("span",{className:"admin-detail-card-label",children:"Email"}),(0,Ns.jsx)("span",{className:"admin-detail-card-value",children:n.email})]}),(0,Ns.jsxs)("div",{className:"admin-detail-card",children:[(0,Ns.jsx)("span",{className:"admin-detail-card-label",children:"Role"}),(0,Ns.jsx)("span",{className:"admin-detail-card-value",children:"Employee"})]}),(0,Ns.jsxs)("div",{className:"admin-detail-card",children:[(0,Ns.jsx)("span",{className:"admin-detail-card-label",children:"Created"}),(0,Ns.jsx)("span",{className:"admin-detail-card-value",children:(r=n.created_at,r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never")})]})]}),(0,Ns.jsx)("div",{className:"admin-detail-actions",children:S===n.id?(0,Ns.jsxs)("div",{className:"admin-edit-form",children:[(0,Ns.jsxs)("div",{className:"admin-form-group",children:[(0,Ns.jsx)("label",{children:"Email"}),(0,Ns.jsx)("input",{type:"email",value:k,onChange:e=>j(e.target.value),placeholder:"New email"})]}),(0,Ns.jsxs)("div",{className:"admin-form-group",children:[(0,Ns.jsx)("label",{children:"Password (leave blank to keep current)"}),(0,Ns.jsx)("input",{type:"password",value:E,onChange:e=>N(e.target.value),placeholder:"New password"})]}),(0,Ns.jsxs)("div",{className:"admin-button-row",children:[(0,Ns.jsx)("button",{className:"admin-btn-primary",onClick:()=>(async(e,t)=>{if(k.trim())try{const{error:n}=await ks.from("profiles").update({email:k}).eq("id",e);if(n)throw n;if(E.trim()){const{error:t}=await ks.auth.admin.updateUserById(e,{password:E});if(t)throw t}l("\u2705 Employee ".concat(t," updated successfully")),_(null),j(""),N(""),await T(),C()}catch(n){console.error("Error editing employee:",n),f("Error: "+n.message),C()}else f("Email cannot be empty")})(n.id,n.email),children:"Save Changes"}),(0,Ns.jsx)("button",{className:"admin-btn-secondary",onClick:()=>{_(null),j(""),N("")},children:"Cancel"})]})]}):y===n.id?(0,Ns.jsxs)("div",{className:"admin-confirm-delete",children:[(0,Ns.jsxs)("p",{children:["Are you sure you want to delete ",n.email,"?"]}),(0,Ns.jsxs)("div",{className:"admin-confirm-buttons",children:[(0,Ns.jsx)("button",{className:"admin-btn-danger",onClick:()=>(async(e,t)=>{try{const{error:n}=await ks.from("profiles").delete().eq("id",e);if(n)throw n;l("\u2705 Employee ".concat(t," deleted successfully")),b(null),await T(),C()}catch(n){console.error("Error deleting employee:",n),f("Error: "+n.message),C()}})(n.id,n.email),children:"Yes, Delete"}),(0,Ns.jsx)("button",{className:"admin-btn-secondary",onClick:()=>b(null),children:"Cancel"})]})]}):(0,Ns.jsxs)("div",{className:"admin-button-row",children:[(0,Ns.jsx)("button",{className:"admin-btn-primary",onClick:()=>{_(n.id),j(n.email),N("")},children:"Edit Employee"}),(0,Ns.jsx)("button",{className:"admin-btn-danger",onClick:()=>b(n.id),children:"Delete Employee"})]})})]}):null;var r})()})]})]}),"clear"===s&&(0,Ns.jsxs)("div",{className:"admin-section",children:[(0,Ns.jsx)("h3",{children:"Database Management"}),(0,Ns.jsxs)("div",{className:"admin-db-info",children:[(0,Ns.jsxs)("div",{className:"admin-info-card",children:[(0,Ns.jsx)("h4",{children:"Clear Defects Database"}),(0,Ns.jsx)("p",{children:"This will permanently delete all defect records from the database."}),(0,Ns.jsx)("p",{className:"admin-warning",children:"This action cannot be undone."}),w?(0,Ns.jsxs)("div",{className:"admin-confirm-delete",children:[(0,Ns.jsx)("p",{className:"admin-confirm-title",children:"Are you absolutely sure?"}),(0,Ns.jsx)("p",{children:"All defect records will be permanently deleted."}),(0,Ns.jsxs)("div",{className:"admin-confirm-buttons",children:[(0,Ns.jsx)("button",{className:"admin-btn-danger",onClick:async()=>{try{const{error:e}=await ks.from("defects").delete().neq("id","00000000-0000-0000-0000-000000000000");if(e)throw e;l("\u2705 Database cleared - all defects deleted"),x(!1),C()}catch(e){console.error("Error clearing database:",e),f("Error: "+e.message),C()}},children:"Yes, Delete All Defects"}),(0,Ns.jsx)("button",{className:"admin-btn-secondary",onClick:()=>x(!1),children:"Cancel"})]})]}):(0,Ns.jsx)("button",{className:"admin-btn-danger",onClick:()=>x(!0),children:"Clear All Defects"})]}),(0,Ns.jsxs)("div",{className:"admin-info-card",children:[(0,Ns.jsx)("h4",{children:"Change Employee Passwords"}),(0,Ns.jsx)("p",{children:"To change employee passwords:"}),(0,Ns.jsxs)("ol",{children:[(0,Ns.jsx)("li",{children:"Go to Supabase Dashboard"}),(0,Ns.jsx)("li",{children:'Click on "Authentication" \u2192 "Users"'}),(0,Ns.jsx)("li",{children:"Find the employee account"}),(0,Ns.jsx)("li",{children:'Click the user and use "Reset Password"'}),(0,Ns.jsx)("li",{children:"Send the reset link to the employee"})]})]})]})]})]})]})};function ni(e){const t=new Date(e),n=new Date-t,r=Math.floor(n/1e3),a=Math.floor(r/60),s=Math.floor(a/60),i=Math.floor(s/24);return r<60?1===r?"1 second ago":"".concat(r," seconds ago"):a<60?1===a?"1 minute ago":"".concat(a," minutes ago"):s<24?1===s?"1 hour ago":"".concat(s," hours ago"):1===i?"1 day ago":"".concat(i," days ago")}const ri=function(){const e=ke(),t=xe(),[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)("today"),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)((new Date).toISOString().split("T")[0]),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const t="true"===sessionStorage.getItem("adminLoggedIn"),n=sessionStorage.getItem("adminToken");t||n||e("/")},[e]),(0,r.useEffect)(()=>{(async()=>{try{const e=(await Ms({limit:1,offset:0,dateFrom:new Date(0).toISOString(),dateTo:(new Date).toISOString()})).data||[];e.length>0&&g(e[0].detected_at)}catch(e){console.error("[AdminDashboard] Error loading last detection:",e)}})()},[]),(0,r.useEffect)(()=>{let e=!1;w(!0),Us("raspi").then(t=>{e||(y(t),w(!1))});const t=Fs("raspi",t=>{e||y(t)});return()=>{e=!0,t()}},[]),(0,r.useEffect)(()=>{let e=!1;return async function(){p(!0);try{let t;if("custom-range"===s){if(!o||!c)return h([]),void p(!1);t=await Bs(new Date(o),new Date(c))}else t=await zs(s);e||h(t)}catch(fi){console.error("[AdminDashboard] Failed to load defects:",fi),e||h([])}finally{e||p(!1)}}(),()=>{e=!0}},[s,o,c]),(0,r.useEffect)(()=>{(async()=>{p(!0);try{let e;if("custom-range"===s){if(!o||!c)return h([]),void p(!1);e=await Bs(new Date(o),new Date(c))}else e=await zs(s);h(e)}catch(fi){console.error("[AdminDashboard] Failed to load defects:",fi),h([])}finally{p(!1)}})()},[t.pathname,o,c,s]);const x=[{key:"admin-dashboard",label:"Dashboard",onClick:()=>e("/admin-dashboard")},{key:"admin-detection",label:"Detection",onClick:()=>e("/admin-detection")},{key:"admin-detection-history",label:"Detection History",onClick:()=>e("/admin-detection-history")}],S=[{key:"admin-how-to-use",label:"How to Use",onClick:()=>e("/admin-how-to-use")}];return(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:()=>{sessionStorage.removeItem("adminToken"),sessionStorage.removeItem("adminLoggedIn"),sessionStorage.removeItem("userId"),e("/")},mainItems:x,bottomItems:S,activeKey:"admin-dashboard",isOpen:n,onToggle:()=>a(!n)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>a(!n),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"Admin Dashboard"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Overview & Employee Management"})]})]}),(0,Ns.jsxs)("div",{className:"dashboard-container",children:[(0,Ns.jsxs)("div",{className:"dashboard-box-wrapper dashboard-box-wrapper-full",children:[(0,Ns.jsxs)("div",{className:"dashboard-title-row",style:{gap:"12px",alignItems:"center"},children:[(0,Ns.jsx)("h2",{className:"dashboard-box-title",children:"Statistics"}),(0,Ns.jsx)("div",{style:{minWidth:"300px"},children:(0,Ns.jsx)(Os,{onApply:e=>{i("custom-range"),l(e.from),u(e.to)},initialFrom:o,initialTo:c})})]}),(0,Ns.jsxs)("div",{className:"dashboard-stats-row",children:[(0,Ns.jsxs)("div",{className:"dashboard-box dashboard-stats-box",children:[(0,Ns.jsxs)("div",{className:"dashboard-stat-card",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Total Defects Detected"}),(0,Ns.jsx)("span",{className:"dashboard-stat-value",children:f?"\u2026":d.length})]}),(0,Ns.jsxs)("div",{className:"dashboard-stat-card",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Average Confidence Score"}),(0,Ns.jsx)("span",{className:"dashboard-stat-value",children:f?"\u2026":d.length>0?"".concat((d.reduce((e,t)=>e+(t.confidence||0),0)/d.length*100).toFixed(1),"%"):"0%"})]}),(0,Ns.jsxs)("div",{className:"dashboard-stat-card",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Last Detection"}),(0,Ns.jsx)("span",{className:"dashboard-stat-value",children:m?ni(m):"--"})]})]}),(0,Ns.jsxs)("div",{className:"dashboard-box dashboard-status-box",children:[(0,Ns.jsx)("span",{className:"dashboard-stat-label",children:"Raspberry Pi Status"}),b?(0,Ns.jsx)("span",{className:"dashboard-stat-value dashboard-stat-status",style:{color:"#94a3b8"},children:"\u2026"}):(()=>{const e=!0===(null===v||void 0===v?void 0:v.is_online),t=null!==v&&void 0!==v&&v.last_seen?new Date(v.last_seen).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):null;return(0,Ns.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[(0,Ns.jsxs)("span",{className:"dashboard-stat-value dashboard-stat-status",style:{color:e?"#22c55e":"#ef4444",display:"flex",alignItems:"center",gap:"6px"},children:[(0,Ns.jsx)("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",background:e?"#22c55e":"#ef4444",flexShrink:0}}),e?"Online":v?"Offline":"Unknown"]}),t&&(0,Ns.jsxs)("span",{style:{fontSize:11,color:"#94a3b8",marginTop:2},children:["Last seen: ",t]})]})})()]})]})]}),(0,Ns.jsxs)("div",{className:"dashboard-box-wrapper dashboard-box-wrapper-full admin-emp-expand",children:[(0,Ns.jsx)("h2",{className:"dashboard-box-title",children:"Employee Management"}),(0,Ns.jsx)("div",{className:"dashboard-box dashboard-employee-box",children:(0,Ns.jsx)(ti,{})})]})]})]})]})};function ai(e){const t=new Date(e),n=new Date-t,r=Math.floor(n/1e3),a=Math.floor(r/60),s=Math.floor(a/60),i=Math.floor(s/24);return r<60?1===r?"1 second ago":"".concat(r," seconds ago"):a<60?1===a?"1 minute ago":"".concat(a," minutes ago"):s<24?1===s?"1 hour ago":"".concat(s," hours ago"):1===i?"1 day ago":"".concat(i," days ago")}function si(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const ii=function(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(0),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)("today"),[v,y]=(0,r.useState)(""),[b,w]=(0,r.useState)((new Date).toISOString().split("T")[0]),x=ke(),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{sessionStorage.getItem("adminToken")||x("/")},[x]);const _=(0,r.useCallback)(async()=>{try{let e,n;"custom-range"===m?(e=v?"".concat(v,"T00:00:00.000Z"):new Date(0).toISOString(),n=b?"".concat(b,"T23:59:59.999Z"):(new Date).toISOString()):({start:e,end:n}=(e=>{const t=new Date,n=t.toISOString();let r;if("today"===e){const e=new Date(t);e.setHours(0,0,0,0),r=e.toISOString()}else if("7days"===e){const e=new Date(t);e.setDate(e.getDate()-6),e.setHours(0,0,0,0),r=e.toISOString()}else if("30days"===e){const e=new Date(t);e.setDate(e.getDate()-29),e.setHours(0,0,0,0),r=e.toISOString()}else r=new Date(0).toISOString();return{start:r,end:n}})(m));const r=(await Ms({limit:999999,offset:0,dateFrom:e,dateTo:n})).data||[],a=r.map(e=>{return{id:e.id,time:ai(e.detected_at),type:(t=e.defect_type,t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t),imageUrl:e.tagged_image_url||e.image_url,originalImageUrl:e.image_url,tagNumber:e.tag_number,detected_at:e.detected_at,image_path:e.image_path,notes:e.notes,supabaseData:e};var t}).sort((e,t)=>new Date(t.detected_at)-new Date(e.detected_at));t(a),i(!1)}catch(e){console.error("[AdminDetection] Error loading defects:",e),i(!1)}},[m,v,b]);function k(){l(!1),h(null)}function j(){u(t=>{if(t<e.length-1){const n=t+1;return e[n]&&h(e[n].id),n}return t})}function E(){u(t=>{if(t>0){const n=t-1;return e[n]&&h(e[n].id),n}return t})}return(0,r.useEffect)(()=>{i(!0),_()},[_]),(0,r.useEffect)(()=>{(async()=>{try{const e=(await Ms({limit:1,offset:0,dateFrom:new Date(0).toISOString(),dateTo:(new Date).toISOString()})).data||[];e.length>0&&a(e[0].detected_at)}catch(e){console.error("[AdminDetection] Error loading last detection:",e)}})()},[]),(0,r.useEffect)(()=>{if(o&&d){const t=e.findIndex(e=>e.id===d);-1!==t&&t!==c?u(t):-1===t&&k()}},[e,o,d,c]),(0,r.useEffect)(()=>{S.current&&(S.current.scrollTop=0)},[e]),(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:function(){sessionStorage.removeItem("adminToken"),sessionStorage.removeItem("adminLoggedIn"),x("/")},mainItems:[{key:"admin-dashboard",label:"Dashboard",onClick:()=>x("/admin-dashboard")},{key:"admin-detection",label:"Detection",onClick:()=>x("/admin-detection")},{key:"admin-detection-history",label:"Detection History",onClick:()=>x("/admin-detection-history")}],bottomItems:[{key:"admin-how-to-use",label:"How to Use",onClick:()=>x("/admin-how-to-use")}],activeKey:"admin-detection",isOpen:f,onToggle:()=>p(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>p(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"Glass Defect Detector"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Glass Detection Preview (Admin)"})]})]}),(0,Ns.jsx)("div",{className:"machine-content-area",children:(0,Ns.jsxs)("div",{className:"machine-content-wrapper",children:[(0,Ns.jsxs)("div",{className:"machine-image-preview-panel",children:[(0,Ns.jsx)("div",{className:"image-preview-header",children:(0,Ns.jsx)("h2",{className:"machine-section-title",children:"Defect Preview"})}),(0,Ns.jsx)("div",{className:"machine-image-preview-container",children:s?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"Loading..."})}):0===e.length?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"No defects detected yet"})}):e[0]&&e[0].imageUrl?(0,Ns.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,Ns.jsx)("img",{src:e[0].imageUrl,alt:"Most recent defect",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"4px"}}),null!=e[0].tagNumber&&(0,Ns.jsxs)("div",{style:{position:"absolute",top:"12px",left:"12px",background:"#0f2942",color:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"700",fontFamily:"Poppins, sans-serif",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["#",e[0].tagNumber]})]}):(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"No image available"})})})]}),(0,Ns.jsxs)("div",{className:"machine-defects-panel",children:[(0,Ns.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,Ns.jsxs)("div",{children:[(0,Ns.jsxs)("h2",{className:"machine-section-title",style:{marginBottom:"0"},children:["Detected Defects (",e.length,")"]}),n&&(0,Ns.jsxs)("p",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"4px",fontFamily:"Inter, sans-serif"},children:["Last detection: ",ai(n)]})]}),(0,Ns.jsx)("div",{style:{minWidth:"300px"},children:(0,Ns.jsx)(Os,{onApply:e=>{g("custom-range"),y(e.from),w(e.to)},initialFrom:v,initialTo:b})})]}),(0,Ns.jsx)("div",{className:"machine-defects-list",ref:S,children:(0,Ns.jsx)("div",{children:s?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"Loading..."})}):0===e.length?(0,Ns.jsx)("div",{className:"machine-empty-state",children:(0,Ns.jsx)("p",{className:"machine-empty-state-text",children:"No defects detected yet"})}):e.map((t,n)=>{var r,a;return(0,Ns.jsxs)("div",{className:"machine-defect-item det-defect-row".concat(0===n?" det-defect-row--latest":""),onClick:()=>function(t){const n=e[t];n&&n.id&&(h(n.id),u(t),l(!0))}(n),children:[(0,Ns.jsx)("div",{className:"det-defect-index",children:null!==(r=t.tagNumber)&&void 0!==r?r:e.length-n}),(0,Ns.jsxs)("div",{className:"det-defect-body",children:[(0,Ns.jsx)("span",{className:"det-defect-type-label",children:t.type}),(0,Ns.jsx)("span",{className:"det-defect-time-label",children:t.time})]}),null!=(null===(a=t.supabaseData)||void 0===a?void 0:a.confidence)&&(0,Ns.jsxs)("span",{className:"det-defect-confidence",children:[(100*t.supabaseData.confidence).toFixed(0),"%"]}),(0,Ns.jsx)("svg",{className:"det-defect-chevron",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},t.id||n)})})})]})]})})]}),o&&c>=0&&e[c]&&((t,n)=>{const r=e[c],a=null!==(t=null===(n=r.supabaseData)||void 0===n?void 0:n.confidence)&&void 0!==t?t:r.confidence;return(0,Ns.jsx)("div",{className:"modal",onClick:e=>{e.target===e.currentTarget&&k()},children:(0,Ns.jsxs)("div",{className:"det-modal-content",children:[(0,Ns.jsxs)("div",{className:"det-modal-header",children:[(0,Ns.jsxs)("div",{className:"det-modal-header-left",children:[(0,Ns.jsxs)("span",{className:"det-modal-index",children:[c+1," / ",e.length]}),(0,Ns.jsx)("h2",{className:"det-modal-title",children:r.type})]}),(0,Ns.jsx)("button",{onClick:k,className:"det-modal-close",children:(0,Ns.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"18",height:"18",children:[(0,Ns.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Ns.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Ns.jsx)("div",{className:"det-modal-image-area",children:r.imageUrl?(0,Ns.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,Ns.jsx)("img",{src:r.imageUrl,alt:"Defect",className:"det-modal-image"}),null!=r.tagNumber&&(0,Ns.jsxs)("div",{style:{position:"absolute",top:"16px",left:"16px",background:"#0f2942",color:"white",padding:"8px 14px",borderRadius:"8px",fontSize:"16px",fontWeight:"700",fontFamily:"Poppins, sans-serif",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:["#",r.tagNumber]})]}):(0,Ns.jsxs)("div",{className:"det-modal-no-image",children:[(0,Ns.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"40",height:"40",children:[(0,Ns.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,Ns.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,Ns.jsx)("polyline",{points:"21 15 16 10 5 21"})]}),(0,Ns.jsx)("span",{children:"No image available"})]})}),(0,Ns.jsxs)("div",{className:"det-modal-details",children:[(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Type"}),(0,Ns.jsx)("span",{className:"det-modal-detail-value",children:r.type})]}),(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Time Detected"}),(0,Ns.jsx)("span",{className:"det-modal-detail-value",children:(s=r.detected_at,new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))})]}),(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Date"}),(0,Ns.jsx)("span",{className:"det-modal-detail-value",children:si(r.detected_at)})]}),null!=r.tagNumber&&(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Tag #"}),(0,Ns.jsxs)("span",{className:"det-modal-detail-value",style:{fontWeight:800,color:"#0f2942"},children:["#",r.tagNumber]})]}),null!=a&&(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Confidence"}),(0,Ns.jsxs)("span",{className:"det-modal-detail-value",children:[(100*a).toFixed(1),"%"]})]}),(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Tagged Image"}),r.imageUrl?(0,Ns.jsx)("a",{href:r.imageUrl,target:"_blank",rel:"noreferrer",className:"det-modal-detail-link",children:"View tagged \u2197"}):(0,Ns.jsx)("span",{className:"det-modal-detail-empty",children:"\u2014"})]}),r.originalImageUrl&&r.originalImageUrl!==r.imageUrl&&(0,Ns.jsxs)("div",{className:"det-modal-detail-row",children:[(0,Ns.jsx)("span",{className:"det-modal-detail-label",children:"Original"}),(0,Ns.jsx)("a",{href:r.originalImageUrl,target:"_blank",rel:"noreferrer",className:"det-modal-detail-link",children:"View original \u2197"})]})]}),(0,Ns.jsxs)("div",{className:"det-modal-footer",children:[(0,Ns.jsxs)("button",{onClick:E,disabled:0===c,className:"det-modal-nav-btn",children:[(0,Ns.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"16",height:"16",children:(0,Ns.jsx)("polyline",{points:"15 18 9 12 15 6"})}),"Prev"]}),(0,Ns.jsxs)("span",{className:"det-modal-counter",children:[c+1," of ",e.length]}),(0,Ns.jsxs)("button",{onClick:j,disabled:c===e.length-1,className:"det-modal-nav-btn",children:["Next",(0,Ns.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"16",height:"16",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]})]})]})});var s})()]})};function oi(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e}function li(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function ci(e){const t={};return e.forEach(e=>{const n=new Date(e.detected_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});t[n]||(t[n]=[]),t[n].push(e)}),Object.entries(t).sort((e,t)=>new Date(t[0])-new Date(e[0]))}const ui=function(){const e=ke(),t=xe(),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)("30days"),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)((new Date).toISOString().split("T")[0]);return(0,r.useEffect)(()=>{sessionStorage.getItem("adminToken")||e("/")},[e]),(0,r.useEffect)(()=>{let e=!1;return async function(){try{let t;if(u(!0),i(null),l(null),"custom-range"===d){if(!m||!v)return a([]),void u(!1);t=await Bs(new Date(m),new Date(v))}else t=await zs(d);e||a(ci(t))}catch(fi){console.error("[AdminDetectionHistory] Error loading defects:",fi),e||a([])}finally{e||u(!1)}}(),()=>{e=!0}},[d,m,v]),(0,r.useEffect)(()=>{(async()=>{try{u(!0),i(null),l(null);const e=await zs(d);a(ci(e))}catch(fi){console.error("[AdminDetectionHistory] Error loading defects:",fi),a([])}finally{u(!1)}})()},[t.pathname]),(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:function(){sessionStorage.removeItem("adminToken"),sessionStorage.removeItem("adminLoggedIn"),e("/")},mainItems:[{key:"admin-dashboard",label:"Dashboard",onClick:()=>e("/admin-dashboard")},{key:"admin-detection",label:"Detection",onClick:()=>e("/admin-detection")},{key:"admin-detection-history",label:"Detection History",onClick:()=>e("/admin-detection-history")}],bottomItems:[{key:"admin-how-to-use",label:"How to Use",onClick:()=>e("/admin-how-to-use")}],activeKey:"admin-detection-history",isOpen:f,onToggle:()=>p(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>p(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"Detection History"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Admin Access"})]})]}),(0,Ns.jsxs)("div",{className:"dh-page-content-area",children:[(0,Ns.jsxs)("div",{className:"dashboard-title-row",style:{padding:"0 0 8px 0",gap:"12px",alignItems:"center"},children:[(0,Ns.jsx)("h2",{className:"dashboard-box-title",children:"Sessions"}),(0,Ns.jsx)("div",{style:{minWidth:"300px"},children:(0,Ns.jsx)(Os,{onApply:e=>{h("custom-range"),g(e.from),y(e.to)},initialFrom:m,initialTo:v})})]}),c&&(0,Ns.jsx)("div",{className:"dh-loading",children:"Loading history\u2026"}),!c&&(0,Ns.jsxs)("div",{className:"dh-miller-container dh-miller-page",children:[(0,Ns.jsxs)("div",{className:"dh-panel dh-panel-always",children:[(0,Ns.jsxs)("div",{className:"dh-panel-header",children:[(0,Ns.jsx)("span",{className:"dh-panel-title",children:"History"}),(0,Ns.jsx)("span",{className:"dh-panel-count",children:n.length})]}),(0,Ns.jsx)("div",{className:"dh-panel-list",children:0===n.length?(0,Ns.jsx)("div",{className:"dh-empty",children:"No history found"}):n.map(e=>{let[t,n]=e;return(0,Ns.jsxs)("div",{className:"dh-row".concat(s&&s[0]===t?" dh-row-selected":""),onClick:()=>(i([t,n]),void l(null)),children:[(0,Ns.jsxs)("div",{className:"dh-row-main",children:[(0,Ns.jsx)("span",{className:"dh-row-title",children:t}),(0,Ns.jsxs)("span",{className:"dh-row-badge",children:[n.length," defect",1!==n.length?"s":""]})]}),(0,Ns.jsx)("svg",{className:"dh-row-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},t)})})]}),(0,Ns.jsx)("div",{className:"dh-panel dh-panel-slide".concat(s?" dh-panel-visible":""),children:s&&(0,Ns.jsxs)(Ns.Fragment,{children:[(0,Ns.jsxs)("div",{className:"dh-panel-header",children:[(0,Ns.jsx)("span",{className:"dh-panel-title",children:s[0]}),(0,Ns.jsx)("span",{className:"dh-panel-count",children:s[1].length})]}),(0,Ns.jsx)("div",{className:"dh-panel-list",children:s[1].map((e,t)=>(0,Ns.jsxs)("div",{className:"dh-row".concat(o&&o.id===e.id?" dh-row-selected":""),onClick:()=>{l(e)},children:[(0,Ns.jsxs)("div",{className:"dh-row-main",children:[(0,Ns.jsx)("span",{className:"dh-defect-type dh-defect-".concat((e.defect_type||"").toLowerCase()),children:oi(e.defect_type)}),(0,Ns.jsx)("span",{className:"dh-row-time",children:li(e.detected_at)})]}),null!=e.tag_number&&(0,Ns.jsxs)("span",{style:{background:"#0f2942",color:"white",borderRadius:4,fontSize:10,fontWeight:700,padding:"2px 6px",fontFamily:"Inter",flexShrink:0,marginRight:4},children:["#",e.tag_number]}),(0,Ns.jsx)("svg",{className:"dh-row-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ns.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},e.id||t))})]})}),(0,Ns.jsx)("div",{className:"dh-panel dh-panel-slide".concat(o?" dh-panel-visible":""),children:o&&(0,Ns.jsxs)(Ns.Fragment,{children:[(0,Ns.jsx)("div",{className:"dh-panel-header",children:(0,Ns.jsx)("span",{className:"dh-panel-title",children:"Details"})}),(0,Ns.jsxs)("div",{className:"dh-detail-card-wrapper",children:[(o.tagged_image_url||o.image_url)&&(0,Ns.jsxs)("div",{style:{marginBottom:12,borderRadius:8,overflow:"hidden",border:"1px solid #e5e7eb",position:"relative"},children:[(0,Ns.jsx)("img",{src:o.tagged_image_url||o.image_url,alt:"Defect",style:{width:"100%",display:"block",objectFit:"contain",background:"#000"}}),null!=o.tag_number&&(0,Ns.jsxs)("div",{style:{position:"absolute",top:"12px",left:"12px",background:"#0f2942",color:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"700",fontFamily:"Poppins, sans-serif",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["#",o.tag_number]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-card",children:[null!=o.tag_number&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Tag #"}),(0,Ns.jsxs)("span",{className:"dh-detail-value",style:{fontWeight:800,color:"#0f2942"},children:["#",o.tag_number]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Type"}),(0,Ns.jsx)("span",{className:"dh-defect-type dh-defect-".concat((o.defect_type||"").toLowerCase()),children:oi(o.defect_type)})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Time Detected"}),(0,Ns.jsx)("span",{className:"dh-detail-value",children:li(o.detected_at)})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Date"}),(0,Ns.jsx)("span",{className:"dh-detail-value",children:(b=o.detected_at,new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),null!=o.confidence&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:(0,Ns.jsx)("button",{onClick:async function(){if(o&&window.confirm("Are you sure you want to delete this defect? This action cannot be undone."))try{await async function(e){if(await As())try{console.log("[deleteDefect] \u2192 backend");const t=await fetch("".concat(Ps,"/defects/").concat(e),{method:"DELETE",signal:AbortSignal.timeout(8e3)});if(!t.ok)throw new Error("Backend responded ".concat(t.status));return!0}catch(n){console.warn("[deleteDefect] backend failed, falling back to Supabase:",n.message),Ls()}if(!ks)throw new Error("Neither backend nor Supabase is available");console.log("[deleteDefect] \u2192 Supabase direct");const{error:t}=await ks.from("defects").delete().eq("id",e);if(t)throw t;return!0}(o.id);const e=n.map(e=>{let[t,n]=e;return[t,n.filter(e=>e.id!==o.id)]}).filter(e=>{let[,t]=e;return t.length>0});a(e),l(null)}catch(e){console.error("[AdminDetectionHistory] Error deleting defect:",e),alert("Failed to delete defect. Please try again.")}},style:{width:"100%",padding:"10px 16px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#b91c1c",e.currentTarget.style.boxShadow="0 4px 12px rgba(220, 38, 38, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="#dc2626",e.currentTarget.style.boxShadow="none"},children:"Delete Defect"})}),(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Confidence"}),(0,Ns.jsxs)("span",{className:"dh-detail-value",children:[(100*o.confidence).toFixed(1),"%"]})]}),(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Tagged Image"}),o.tagged_image_url?(0,Ns.jsx)("a",{href:o.tagged_image_url,target:"_blank",rel:"noreferrer",className:"dh-detail-value",style:{color:"#2563eb"},children:"View tagged \u2197"}):(0,Ns.jsx)("span",{className:"dh-detail-value",style:{color:"#d1d5db"},children:"Pending\u2026"})]}),o.image_url&&(0,Ns.jsxs)("div",{className:"dh-detail-row",children:[(0,Ns.jsx)("span",{className:"dh-detail-label",children:"Original"}),(0,Ns.jsx)("a",{href:o.image_url,target:"_blank",rel:"noreferrer",className:"dh-detail-value",style:{color:"#2563eb"},children:"View original \u2197"})]})]})]})]})})]})]})]})]});var b};const di=function(){const e=ke(),[t,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(0),i=[{section:"Setup",steps:["Connect the prototype to a power source and ensure the power plug is properly inserted.","Press the power button to turn on the system.","Activate the lighting system and adjust the brightness to its maximum level using the PWM button.","Carefully place the glass onto the designated platform."]},{section:"Operation",steps:["Launch the web application.","Execute the appropriate command to initiate the inspection process.","View and navigate the results displayed on the LCD screen.","Verify that the inspection results have been properly recorded in the web application.","Carefully remove the glass from the platform."]},{section:"Shutdown",steps:["After completing the navigation and verification process, close the web application.","Shut down the system following the proper procedure.","Turn off the lighting system using the PWM button.","Power off the prototype by pressing the main power button.","Disconnect the prototype from the power source."]}].flatMap((e,t)=>e.steps.map((n,r)=>d(d({},e),{},{step:n,globalIdx:5*t+r+1,stepIdx:r})));return(0,r.useEffect)(()=>{const t="true"===sessionStorage.getItem("adminLoggedIn"),n=sessionStorage.getItem("adminToken");t||n||e("/")},[e]),(0,Ns.jsxs)("div",{className:"machine-container",children:[(0,Ns.jsx)(Cs,{onLogout:function(){sessionStorage.removeItem("adminToken"),sessionStorage.removeItem("adminLoggedIn"),sessionStorage.removeItem("userId"),e("/")},mainItems:[{key:"admin-dashboard",label:"Dashboard",onClick:()=>e("/admin-dashboard")},{key:"admin-detection",label:"Detection",onClick:()=>e("/admin-detection")},{key:"admin-detection-history",label:"Detection History",onClick:()=>e("/admin-detection-history")}],bottomItems:[{key:"admin-how-to-use",label:"How to Use",onClick:()=>e("/admin-how-to-use")}],activeKey:"admin-how-to-use",isOpen:t,onToggle:()=>n(e=>!e)}),(0,Ns.jsxs)("main",{className:"machine-main-content",children:[(0,Ns.jsxs)("header",{className:"machine-header",children:[(0,Ns.jsxs)("button",{className:"sidebar-hamburger",onClick:()=>n(e=>!e),"aria-label":"Toggle sidebar",children:[(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{}),(0,Ns.jsx)("span",{})]}),(0,Ns.jsxs)("div",{className:"machine-header-left",children:[(0,Ns.jsx)("h1",{className:"machine-header-title",children:"How to Use"}),(0,Ns.jsx)("p",{className:"machine-header-subtitle",children:"Guide for glass defect monitoring"})]})]}),(0,Ns.jsxs)("div",{style:{flex:1,padding:"24px",overflowY:"auto",background:"#f8fafb",display:"flex",gap:"24px"},children:[(0,Ns.jsx)("div",{style:{width:"240px",flexShrink:0,display:"flex",flexDirection:"column",gap:"0",background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",height:"fit-content"},children:(0,Ns.jsx)("div",{style:{padding:"28px 20px",background:"linear-gradient(135deg, #0f2942 0%, #1a3a52 100%)",borderBottom:"3px solid #e5a445"},children:(0,Ns.jsx)("h3",{style:{margin:0,fontSize:"14px",fontWeight:"700",color:"#fff",lineHeight:"1.6",letterSpacing:"0.3px"},children:"INSTRUCTIONS FOR FLAT GLASS DEFECT DETECTION DEVICE"})})}),(0,Ns.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column"},children:[(0,Ns.jsx)("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",height:"100%"},children:(0,Ns.jsx)("div",{style:{padding:"24px",flex:1,overflowY:"auto"},children:(0,Ns.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:i.map((e,t)=>(0,Ns.jsxs)("div",{onClick:()=>s(t),style:{display:"flex",gap:"14px",padding:"12px 14px",background:a===t?"linear-gradient(135deg, #e5a445 0%, #d4941d 100%)":"#f9fafb",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid "+(a===t?"#d4941d":"#e5e7eb")},onMouseEnter:e=>{a!==t&&(e.currentTarget.style.background="#f0f3f7")},onMouseLeave:e=>{a!==t&&(e.currentTarget.style.background="#f9fafb")},children:[(0,Ns.jsx)("span",{style:{minWidth:"32px",width:"32px",height:"32px",borderRadius:"50%",background:"#0f2942",color:a===t?"#e5a445":"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"13px",flexShrink:0},children:e.globalIdx}),(0,Ns.jsx)("span",{style:{fontSize:"13px",color:a===t?"#fff":"#374151",lineHeight:"1.6",fontWeight:a===t?"600":"400"},children:e.step})]},t))})})}),(0,Ns.jsx)("div",{style:{marginTop:"20px",padding:"20px",background:"linear-gradient(135deg, rgba(229, 164, 69, 0.1) 0%, rgba(229, 164, 69, 0.05) 100%)",borderLeft:"4px solid #e5a445",borderRadius:"8px"},children:(0,Ns.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#6b7280",lineHeight:"1.6"},children:[(0,Ns.jsx)("strong",{style:{color:"#0f2942"},children:"Safety Tip:"})," Always ensure the device is properly powered off and cooled down between inspections. Handle glass with care and wear protective equipment when necessary."]})})]})]})]})]})};const hi=function(){return(0,Ns.jsx)("div",{children:(0,Ns.jsx)(kt,{basename:"/Glass-Defect-Detection-Prototype/",children:(0,Ns.jsxs)(Ve,{children:[(0,Ns.jsx)(He,{path:"/",element:(0,Ns.jsx)(Ts,{})}),(0,Ns.jsx)(He,{path:"/dashboard",element:(0,Ns.jsx)(Vs,{})}),(0,Ns.jsx)(He,{path:"/detection",element:(0,Ns.jsx)(Js,{})}),(0,Ns.jsx)(He,{path:"/detection-history",element:(0,Ns.jsx)(Xs,{})}),(0,Ns.jsx)(He,{path:"/help",element:(0,Ns.jsx)(Zs,{})}),(0,Ns.jsx)(He,{path:"/how-to-use",element:(0,Ns.jsx)(ei,{})}),(0,Ns.jsx)(He,{path:"/admin-dashboard",element:(0,Ns.jsx)(ri,{})}),(0,Ns.jsx)(He,{path:"/admin-detection",element:(0,Ns.jsx)(ii,{})}),(0,Ns.jsx)(He,{path:"/admin-detection-history",element:(0,Ns.jsx)(ui,{})}),(0,Ns.jsx)(He,{path:"/admin-how-to-use",element:(0,Ns.jsx)(di,{})})]})})})};s.createRoot(document.getElementById("root")).render((0,Ns.jsx)(r.StrictMode,{children:(0,Ns.jsx)(hi,{})}))})();
//# sourceMappingURL=main.b5a76880.js.map